# ì•± í”„ë¡ íŠ¸ì—”ë“œ & Web3.js

### ****Web3.js ì†Œê°œ****

- ****Web3.js****
    - ì´ë”ë¦¬ì›€ ë„¤íŠ¸ì›Œí¬ëŠ” ë…¸ë“œë¡œ êµ¬ì„±, ê° ë…¸ë“œëŠ” ë¸”ë¡ì²´ì¸ì˜ ë³µì‚¬ë³¸ì„ ê°€ì§€ê³  ìˆìŒ
    - ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ê³ ì í•˜ë©´, ì´ ë…¸ë“œë“¤ ì¤‘ í•˜ë‚˜ì— ì§ˆì˜ë¥¼ ë³´ë‚´ ë‚´ìš© ì „ë‹¬
    1. ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œ
    2. ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜, ê·¸ë¦¬ê³ 
    3. ê·¸ í•¨ìˆ˜ì— ì „ë‹¬í•˜ê³ ì í•˜ëŠ” ë³€ìˆ˜ë“¤
    - ì´ë”ë¦¬ì›€ ë…¸ë“œë“¤ì€ ***SON-RPC***ë¼ê³  ë¶ˆë¦¬ëŠ” ì–¸ì–´ë¡œë§Œ ì†Œí†µ ê°€ëŠ¥
        - ì´ëŠ” ì‚¬ëŒì´ ì½ê¸° ë¶ˆí¸
        
        ```json
        
        {"jsonrpc":"2.0","method":"eth_sendTransaction","params":[{"from":"0xb60e8dd61c5d32be8058bb8eb970870f07233155","to":"0xd46e8dd67c5d32be8058bb8eb970870f07244567","gas":"0x76c0","gasPrice":"0x9184e72a000","value":"0x9184e72a","data":"0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675"}],"id":1}
        ```
        
    - Web3.jsëŠ” ì´ëŸ° ì§ˆì˜ë¥¼ ëª°ë¼ë„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸í„°í˜ì´ìŠ¤ë¡œ ìƒí˜¸ì‘ìš©í•¨
        
        ```jsx
        CryptoZombies.methods.createRandomZombie("Vitalik Nakamoto ğŸ¤”")
          .send({ from: "0xb60e8dd61c5d32be8058bb8eb970870f07233155", gas: "3000000" })
        ```
        
- ì‹œì‘í•˜ê¸°
    - íŒ¨í‚¤ì§€ ë„êµ¬ë¥¼ ì¨ì„œ Web3.jsë¥¼ ì¶”ê°€í•  ìˆ˜ìˆìŒ
        
        ```jsx
        // NPMì„ ì‚¬ìš©í•  ë•Œ
        npm install web3
        
        // Yarnì„ ì‚¬ìš©í•  ë•Œ
        yarn add web3
        
        // Bowerë¥¼ ì‚¬ìš©í•  ë•Œ
        bower install web3
        
        // ...ê¸°íƒ€ ë“±ë“±.
        ```
        
        - ë‹¨ìˆœíˆÂ [github](https://github.com/ethereum/web3.js/blob/1.0/dist/web3.min.js)ì—ì„œ ê°„ëµí™”ëœÂ `.js`íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ê³  ìë„¤ í”„ë¡œì íŠ¸ì— í¬í•¨ì‹œí‚¬ ìˆ˜ë„ ìˆìŒ.
        
        ```jsx
        <script language="javascript" type="text/javascript" src="web3.min.js"></script>
        ```
        
- ì˜ˆì œ)`index.html`ê³¼ ê°™ì€ ê²½ë¡œì˜ í´ë”ì—Â `web3.min.js`ì˜ ë³µì‚¬ë³¸ì„ ê°€ì§€ê³  ìˆë‹¤ê³  ê°€ì •
    
    1. ìœ„ì˜ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ë¥¼ ìš°ë¦¬ì˜ í”„ë¡œì íŠ¸ì— ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•˜ì—¬Â `web3.js`ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ê²Œ. 
    
    - ì˜ˆì œ ì½”ë“œ
        
        ```jsx
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <title>CryptoZombies front-end</title>
            <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <!-- ì—¬ê¸°ì— web3.jsë¥¼ í¬í•¨í•˜ê²Œ. -->
            <script language="javascript" type="text/javascript" src="web3.min.js"></script>
          </head>
          <body>
        
          </body>
        </html>
        ```
        

### Web3 í”„ë¡œë°”ì´ë”(Provider)

- ***Web3 í”„ë¡œë°”ì´ë”(Provider)***
    - ì´ë”ë¦¬ì›€ì€ ë˜‘ê°™ì€ ë°ì´í„°ì˜ ë³µì‚¬ë³¸ì„ ê³µìœ í•˜ëŠ” *ë…¸ë“œ*ë“¤ë¡œ êµ¬ì„±
    - Web3.jsì—ì„œ Web3í”„ë¡œë°”ì´ë”ë¥¼ ì„¤ì •í•˜ëŠ” ê²ƒì€ ì½”ë“œì— ì½ê¸°ì™€ ì“°ê¸°ë¥¼ ì²˜ë¦¬í•˜ë ¤ë©´ ì–´ë–¤ ë…¸ë“œì™€ í†µì‹ ì„ í•´ì•¼ í•˜ëŠ”ì§€ ì„¤ì •í•˜ëŠ” ê²ƒ.
        - ì „í†µì ì¸ ì›¹ ì•±ì—ì„œ APIí˜¸ì¶œì„ ìœ„í•´ ì›ê²© ì›¹ ì„œë²„ì˜ URLì„ ì„¤ì •í•˜ëŠ” ê²ƒê³¼ ê°™ìŒ
    - ë‚˜ë§Œì˜ ì´ë”ë¦¬ì›€ ë…¸ë“œë¥¼ í”„ë¡œë°”ì´ë”ë¡œ ìš´ì˜ ê°€ëŠ¥
    - ***`Infura` :* DAppì˜ ì‚¬ìš©ìë“¤ì„ ìœ„í•´ ìë„¤ë§Œì˜ ì´ë”ë¦¬ì›€ ë…¸ë“œë¥¼ ìš´ì˜í•  í•„ìš”ê°€ ì—†ë„ë¡ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤**
- ****Infura****
    - InfuraëŠ” ë¹ ë¥¸ ì½ê¸°ë¥¼ ìœ„í•œ ìºì‹œ ê³„ì¸µì„ í¬í•¨í•˜ëŠ” ë‹¤ìˆ˜ì˜ ì´ë”ë¦¬ì›€ ë…¸ë“œë¥¼ ìš´ì˜í•˜ëŠ” ì„œë¹„ìŠ¤.
    - ì ‘ê·¼ì„ ìœ„í•œ APIë¥¼ ë¬´ë£Œë¡œ ì‚¬ìš©
    - Infuraë¥¼ í”„ë¡œë°”ì´ë”ë¡œ ì‚¬ìš©í•˜ë©´, ì´ë”ë¦¬ì›€ì„ ì„¤ì¹˜í•˜ê³  ê³„ì† ìœ ì§€í•  í•„ìš” ì—†ì´ ì´ë”ë¦¬ì›€ ë¸”ë¡ì²´ì¸ê³¼ ë©”ì„¸ì§€ë¥¼ í™•ì‹¤íˆ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆìŒ.
    - ë‹¤ìŒê³¼ ê°™ì´ Web3ì— Web3 í”„ë¡œë°”ì´ë”ë¡œ Infuraë¥¼ ì“°ë„ë¡ ì„¤ì •
    
    ```jsx
    var web3 = new Web3(new Web3.providers.WebsocketProvider("wss://mainnet.infura.io/ws"));
    ```
    
    - ë§ì€ ì‚¬ìš©ìë“¤ì´ ìš°ë¦¬ì˜ DAppì„ ì‚¬ìš©í•  ê²ƒì´ê¸°ì—(ì´ ì‚¬ìš©ìë“¤ì€ ë‹¨ìˆœíˆ ì½ê¸°ë§Œ í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ë¸”ë¡ì²´ì¸ì— ë­”ê°€ ì“°ê¸°ë„ í•  ê²ƒì´ê¸°ì—) ì´ ì‚¬ìš©ìë“¤ì´ ê·¸ë“¤ì˜ ê°œì¸ í‚¤ë¡œ íŠ¸ëœì­ì…˜ì— ì„œëª…ì„ í•  ìˆ˜ìˆë„ë¡ í•´ì•¼í•¨
    
    > *ì°¸ê³ : ì´ë”ë¦¬ì›€(ê·¸ë¦¬ê³  ì¼ë°˜ì ìœ¼ë¡œ ë¸”ë¡ì²´ì¸)ì€ íŠ¸ëœì­ì…˜ì— ì „ì ì„œëª…ì„ í•˜ê¸° ìœ„í•´ ê³µê°œ/ê°œì¸ í‚¤ ìŒì„ ì‚¬ìš©í•˜ë„¤. ë§í•˜ìë©´ ì „ì ì„œëª…ì„ ìœ„í•´ ì—„ì²­ë‚˜ê²Œ ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ ê°™ì€ ê²ƒì´ì§€. ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ë‚´ê°€ ë§Œì•½ ë¸”ë¡ì²´ì¸ì—ì„œ ì–´ë–¤ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ë©´, ë‚˜ì˜ ê³µê°œ í‚¤ë¥¼ í†µí•´ ë‚´ê°€ ê±°ê¸° ì„œëª…ì„ í•œ ì‚¬ëŒì´ë¼ê³ Â **ì¦ëª…**í•  ìˆ˜ ìˆë„¤ - í•˜ì§€ë§Œ ì•„ë¬´ë„ ë‚´ ê°œì¸ í‚¤ë¥¼ ëª¨ë¥´ê¸° ë•Œë¬¸ì—, ë‚´ íŠ¸ëœì­ì…˜ì„ ëˆ„êµ¬ë„ ìœ„ì¡°í•  ìˆ˜ ì—†ì§€.*
    > 
    - ë³´ì•ˆì„ ì˜ ëª¨ë¥¸ë‹¤ë©´ ì‚¬ìš©ìë“¤ì˜ ê°œì¸ í‚¤ë¥¼ ê´€ë¦¬í•˜ëŠ”ê²ƒì€ ì–´ë ¤ì›€
        - ***ë©”íƒ€ë§ˆìŠ¤í¬(Metamask) :*** ì´ë¥¼ ëŒ€ì‹  ì²˜ë¦¬í•´ì£¼ëŠ” ì„œë¹„ìŠ¤
- ***ë©”íƒ€ë§ˆìŠ¤í¬(Metamask)***
    - ë©”íƒ€ë§ˆìŠ¤í¬ëŠ” ì‚¬ìš©ìë“¤ì´ ì´ë”ë¦¬ì›€ ê³„ì •ê³¼ ê°œì¸ í‚¤ë¥¼ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•  ìˆ˜ìˆê²Œ í•´ì£¼ëŠ” í¬ë¡¬ê³¼ íŒŒì´ì–´í­ìŠ¤ì˜ ë¸Œë¼ìš°ì € í™•ì¥ í”„ë¡œê·¸ë¨
    - í•´ë‹¹ ê³„ì •ë“¤ì„ ì¨ì„œ Web3.jsë¥¼ ì‚¬ìš©í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ë“¤ê³¼ ìƒí˜¸ì‘ìš©ì„ í•  ìˆ˜ ìˆë„ë¡ í•´ì¤Œ
    
    > ***ì°¸ê³ **: ë©”íƒ€ë§ˆìŠ¤í¬ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ Infuraì˜ ì„œë²„ë¥¼ Web3 í”„ë¡œë°”ì´ë”ë¡œ ì‚¬ìš©í•˜ë„¤. ìœ„ì—ì„œ ìš°ë¦¬ê°€ í–ˆë˜ ê²ƒì²˜ëŸ¼ ë§ì´ì•¼ - í•˜ì§€ë§Œ ì‚¬ìš©ìë“¤ì—ê²Œ ê·¸ë“¤ë§Œì˜ Web3 í”„ë¡œë°”ì´ë”ë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ì£¼ê¸°ë„ í•˜ì§€. ì¦‰ ë©”íƒ€ë§ˆìŠ¤í¬ì˜ Web3 í”„ë¡œë°”ì´ë”ë¥¼ ì‚¬ìš©í•˜ë©´, ì‚¬ìš©ìì—ê²Œ ì„ íƒê¶Œì„ ì£¼ëŠ” ê²ƒì´ê¸°ë„ í•˜ë©´ì„œ ìë„¤ ì•±ì—ì„œ ê±±ì •í•  ê±°ë¦¬ë¥¼ í•˜ë‚˜ ì¤„ì¼ ìˆ˜ ìˆì§€.*
    > 
- ****ë©”íƒ€ë§ˆìŠ¤í¬ì˜ Web3 í”„ë¡œë°”ì´ë” ì‚¬ìš©í•˜ê¸°****
    - ë©”íƒ€ë§ˆìŠ¤í¬ëŠ”Â `web3`ë¼ëŠ” ì „ì—­ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´ë¥¼ í†µí•´ ë¸Œë¼ìš°ì €ì— Web3 í”„ë¡œë°”ì´ë”ë¥¼ ì£¼ì…
    - ì•±ì—ì„œëŠ”Â `web3`ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê³ , ë§Œì•½ ì¡´ì¬í•œë‹¤ë©´Â `web3.currentProvider`ë¥¼ í”„ë¡œë°”ì´ë”ë¡œì„œ ì‚¬ìš©
    - ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ ì œê³µí•˜ëŠ” í…œí”Œë¦¿ ì½”ë“œ : ì‚¬ìš©ìê°€ ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ ì„¤ì¹˜í–ˆëŠ”ì§€ í™•ì¸í•˜ê³  ì„¤ì¹˜ê°€ ì•ˆ ëœ ê²½ìš° ìš°ë¦¬ ì•±ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ ì„¤ì¹˜í•´ì•¼ í•œë‹¤ê³  ì•Œë ¤ì¤Œ
    
    ```jsx
    window.addEventListener('load', function() {
    
      // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
      if (typeof web3 !== 'undefined') {
        // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
        web3js = new Web3(web3.currentProvider);
      } else {
        // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
        // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
      }
    
      // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
      startApp()
    
    })
    ```
    
    > *ì°¸ê³ : ë©”íƒ€ë§ˆìŠ¤í¬ ë§ê³ ë„ ì‚¬ìš©ìë“¤ì´ ì“¸ ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ê°œì¸ í‚¤ ê´€ë¦¬ í”„ë¡œê·¸ë¨ë„ ìˆë„¤.Â **ë¯¸ìŠ¤íŠ¸(Mist)**Â ì›¹ ë¸Œë¼ìš°ì € ê°™ì€ ê²ƒë“¤ì´ì§€. í•˜ì§€ë§Œ, ê·¸ê²ƒë“¤ë„ ëª¨ë‘Â `web3`Â ë³€ìˆ˜ë¥¼ ì£¼ì…í•˜ëŠ” ë™ì¼í•œ í˜•íƒœë¥¼ ì‚¬ìš©í•˜ë„¤. ê·¸ëŸ¬ë‹ˆ ì‚¬ìš©ìë“¤ì´ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì„ ì“°ë”ë¼ë„ ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ì„¤ëª…í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©ìì˜ Web3 í”„ë¡œë°”ì´ë”ë¥¼ ì¸ì‹í•  ìˆ˜ ìˆì„ ê²ƒì´ë„¤.*
    > 
- ì˜ˆì œ)
    
    1. ìœ„ì—ì„œ ë§í•œ ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ ì¸ì‹í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ ì½”ë“œë¥¼ ì½”ë“œë¥¼ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•˜ê²Œ.Â `window.addEventListener`ë¡œ ì‹œì‘í•˜ëŠ” ë¸”ë¡ì´ë„¤. 
    
    - ì˜ˆì œ ì½”ë“œ
        
        ```jsx
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <title>CryptoZombies front-end</title>
            <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script language="javascript" type="text/javascript" src="web3.min.js"></script>
          </head>
          <body>
        
            <script>
              // ì—¬ê¸°ì„œ ì‹œì‘í•˜ê²Œ.
              window.addEventListener('load', function() {
        
              // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
              if (typeof web3 !== 'undefined') {
              // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
                web3js = new Web3(web3.currentProvider);
              } else {
              // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
              // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
              }
        
              // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
              startApp()
        
        })
            </script>
          </body>
        </html>
        ```
        

### ì»¨íŠ¸ë™íŠ¸ì™€ ëŒ€í™”í•˜ê¸°

- Web3.jsëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì™€ í†µì‹ ì„ ìœ„í•´ 2ê°€ì§€ë¥¼ í•„ìš”ë¡œ í•  ê²ƒ: 
ì»¨íŠ¸ë™íŠ¸ì˜Â **_ì£¼ì†Œ_**ì™€Â ***ABI***
- ****ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ****
    - ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ëª¨ë‘ ì‘ì„±í•œ í›„, ê·¸ê±¸ ì»´íŒŒì¼í•œ í›„ ì´ë”ë¦¬ì›€ì— ë°°í¬
    - ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í•œ í›„, í•´ë‹¹ ì»¨íŠ¸ë™íŠ¸ëŠ” ì˜ì›íˆ ì¡´ì¬í•˜ëŠ”, ì´ë”ë¦¬ì›€ ìƒì—ì„œ ê³ ì •ëœ ì£¼ì†Œë¥¼ ì–»ìŒ
    - ex) ì´ë”ë¦¬ì›€ ë©”ì¸ë„·ì—ì„œ í¬ë¦½í† í‚¤í‹°ì˜ ì£¼ì†ŒëŠ”
    Â `0x06012c8cf97BEaD5deAe237070F9587f8E7A266d` ì˜€ìŒ
- ****ì»¨íŠ¸ë™íŠ¸ ABI****
    - ABIëŠ” Application Binary Interfaceì˜ ì¤„ì„ë§
    - ê¸°ë³¸ì ìœ¼ë¡œ JSON í˜•íƒœë¡œ ì»¨íŠ¸ë™íŠ¸ì˜ ë©”ì†Œë“œë¥¼ í‘œí˜„.
    - ì»¨íŠ¸ë™íŠ¸ê°€ ì´í•´í•  ìˆ˜ ìˆë„ë¡ í•˜ë ¤ë©´ Web3.jsê°€ ì–´ë–¤ í˜•íƒœë¡œ í•¨ìˆ˜ í˜¸ì¶œì„ í•´ì•¼ í•˜ëŠ”ì§€ ì•Œë ¤ì¤˜ì•¼í•¨
    - ì´ë”ë¦¬ì›€ì— ë°°í¬í•˜ê¸° ìœ„í•´ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì»´íŒŒì¼í•  ë•Œ, ì†”ë¦¬ë””í‹° ì»´íŒŒì¼ëŸ¬ê°€ ìë„¤ì—ê²Œ ABIë¥¼ ì¤Œ
        - ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œì™€ í•¨ê»˜ ì´ë¥¼ ë³µì‚¬í•˜ì—¬ ì €ì¥.
    - ABIë¥¼ ì»´íŒŒì¼í•˜ì—¬Â `cryptozombies_abi.js`ë¼ëŠ” íŒŒì¼ì˜Â `cryptoZombiesABI`ë³€ìˆ˜ì— ì €ì¥
        - `cryptozombies_abi.js`ë¥¼ ìš°ë¦¬ í”„ë¡œì íŠ¸ì— í¬í•¨í•˜ë©´, í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í¬ë¦½í† ì¢€ë¹„ ABIì— ì ‘ê·¼í•  ìˆ˜ ìˆì„ ê²ƒ
- ****Web3.js ì»¨íŠ¸ë™íŠ¸ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ê¸°****
    - ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œì™€ ABIë¥¼ ì–»ê³  ë‚˜ë©´, ìë„¤ëŠ” ë‹¤ìŒê³¼ ê°™ì´ Web3ì—ì„œ ì¸ìŠ¤í„´ìŠ¤í™”
    
    ```jsx
    // myContract ì¸ìŠ¤í„´ìŠ¤í™”
    var myContract = new web3js.eth.Contract(myABI, myContractAddress);
    ```
    
- ì˜ˆì œ)
    1. ìš°ë¦¬ ë¬¸ì„œì˜Â `<head>`ì—ì„œ,Â `cryptozombies_abi.js`ë¥¼ í¬í•¨í•˜ë„ë¡ ë˜ ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ë¥¼ ì¨ì„œ ìš°ë¦¬ê°€ ABI ì •ì˜ë¥¼ ìš°ë¦¬ í”„ë¡œì íŠ¸ì— ê°€ì ¸ì˜¬ ìˆ˜ ìˆë„ë¡ í•˜ê²Œ.
    2. `<body>`ì˜Â `<script>`Â íƒœê·¸ ì‹œì‘ ë¶€ë¶„ì—ì„œ,Â `cryptoZombies`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œÂ `var`ë¥¼ ì„ ì–¸í•˜ê³  ì–´ë–¤ ê°’ë„ ì•„ì§ í•Ÿë‹¹ì€ í•˜ì§€ ë§ê²Œ. ì¶”í›„ ì´ ë³€ìˆ˜ë¥¼ ìš°ë¦¬ì˜ ì¸ìŠ¤í„´ìŠ¤í™”ëœ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ë°ì— ì‚¬ìš©í•  ê²ƒì´ë„¤.
    3. ë‹¤ìŒìœ¼ë¡œ,Â `startApp()`ì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œÂ `function`ì„ ë§Œë“¤ê²Œ. ë‚´ìš© ë¶€ë¶„ì€ ë‹¤ìŒ 2ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ ì±„ìš¸ ê²ƒì´ë„¤.
    4. `startApp()`ì´ ì²˜ìŒìœ¼ë¡œ í•´ì•¼ í•  ê²ƒì€Â `cryptoZombiesAddress`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œÂ `var`ë¥¼ ì„ ì–¸í•˜ê³  ì—¬ê¸°ì—Â `"YOUR_CONTRACT_ADDRESS"`ë¥¼ í• ë‹¹í•˜ëŠ” ê²ƒì´ë„¤(ì´ëŠ” ë©”ì¸ë„·ì—ì„œ í¬ë¦½í† ì¢€ë¹„ ì»¨íŠ¸ë™íŠ¸ì˜ ì£¼ì†Œì´ë„¤).
    5. ë§ˆì§€ë§‰ìœ¼ë¡œ, ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì¸ìŠ¤í„´í™”í•˜ë„ë¡ í•˜ì§€. ìš°ë¦¬ê°€ ìœ„ì˜ ì˜ˆì œ ì½”ë“œì—ì„œ í–ˆë˜ ê²ƒì²˜ëŸ¼Â `cryptoZombies`ì— ìƒˆÂ `web3js.eth.Contract`ë¥¼ í• ë‹¹í•˜ê²Œ(ìŠ¤í¬ë¦½íŠ¸ íƒœê·¸ë¥¼ í†µí•´ ê°€ì ¸ì˜¤ëŠ”Â `cryptoZombiesABI`ì™€ ìœ„ì˜Â `cryptoZombiesAddress`ë¥¼ ì‚¬ìš©í•˜ê²Œ). 
- ì˜ˆì œ ì½”ë“œ
    
    ```jsx
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <title>CryptoZombies front-end</title>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script language="javascript" type="text/javascript" src="web3.min.js"></script>
        <!-- 1. ì—¬ê¸°ì— cryptozombies_abi.jsë¥¼ í¬í•¨í•˜ê²Œ -->
        <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
      </head>
      <body>
    
        <script>
          // 2. ì—¬ê¸°ì„œ ì½”ë”©ì„ ì‹œì‘í•˜ê²Œ
          var cryptoZombies;
    
          function startApp(){
            var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
            cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
          }
    
          window.addEventListener('load', function() {
    
            // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
            if (typeof web3 !== 'undefined') {
              // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
              web3js = new Web3(web3.currentProvider);
            } else {
              // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
              // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
            }
    
            // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
            startApp()
    
          })
        </script>
      </body>
    </html>
    ```
    

### ì»¨íŠ¸ë™íŠ¸ í•¨ìˆ˜ í˜¸ì¶œ

- Web3.jsëŠ” ì»¨íŠ¸ë™íŠ¸ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê¸° ìœ„í•´ ìš°ë¦¬ê°€ ì‚¬ìš©í•  ë‘ ê°œì˜ ë©”ì†Œë“œ:Â 
`call`ê³¼Â `send`
- Call
    - `call`ì€Â `view`ì™€Â `pure`í•¨ìˆ˜ë¥¼ ìœ„í•´ ì‚¬ìš©
    - ë¡œì»¬ ë…¸ë“œì—ì„œë§Œ ì‹¤í–‰í•˜ê³ , ë¸”ë¡ì²´ì¸ì— íŠ¸ëœì­ì…˜ì„ ë§Œë“¤ì§€ ì•ŠìŒ
    
    > ***ë³µìŠµ:**Â `view`ì™€Â `pure`Â í•¨ìˆ˜ëŠ” ì½ê¸° ì „ìš©ì´ê³  ë¸”ë¡ì²´ì¸ì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•˜ì§€ ì•Šë„¤. ê°€ìŠ¤ë¥¼ ì „í˜€ ì†Œëª¨í•˜ì§€ ì•Šê³ , ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ íŠ¸ëœì­ì…˜ì— ì„œëª…í•˜ë¼ê³  ì‚¬ìš©ìì—ê²Œ ì°½ì„ ë„ìš°ì§€ë„ ì•Šì§€.*
    > 
    - Web3.jsë¥¼ ì‚¬ìš©í•˜ì—¬, ë‹¤ìŒê³¼ ê°™ì´Â `123`ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œÂ `myMethod`ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼Â `call`
    
    ```jsx
    myContract.methods.myMethod(123).call()
    ```
    
- Send
    - `send`ëŠ” íŠ¸ëœì­ì…˜ì„ ë§Œë“¤ê³  ë¸”ë¡ì²´ì¸ ìƒì˜ ë°ì´í„°ë¥¼ ë³€ê²½
    - `view`ì™€Â `pure`ê°€ ì•„ë‹Œ ëª¨ë“  í•¨ìˆ˜ì— ëŒ€í•´Â `send`ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²ƒ
    
    > ***ì°¸ê³ :**Â íŠ¸ëœì­ì…˜ì„Â `send`í•˜ëŠ” ê²ƒì€ ì‚¬ìš©ìì—ê²Œ ê°€ìŠ¤ë¥¼ ì§€ë¶ˆí•˜ë„ë¡ í•˜ê³ , ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ íŠ¸ëœì­ì…˜ì— ì„œëª…í•˜ë¼ê³  ì°½ì„ ë„ìš¸ ê²ƒì´ë„¤. Web3 í”„ë¡œë°”ì´ë”ë¡œ ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ ì‚¬ìš©í•  ë•Œ,Â `send()`ë¥¼ í˜¸ì¶œí•˜ë©´ ìë™ìœ¼ë¡œ ì´ ëª¨ë“  ê²ƒì´ ì´ë£¨ì–´ì§€ê³ , ìš°ë¦¬ì˜ ì½”ë“œì— ì–´ë–¤ íŠ¹ë³„í•œ ê²ƒë„ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ì§€.*
    > 
    - Web3.jsë¥¼ ì‚¬ìš©í•˜ì—¬, ë‹¤ìŒê³¼ ê°™ì´Â `123`ì„ ë§¤ê°œ ë³€ìˆ˜ë¡œÂ `myMethod`ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” íŠ¸ëœì­ì…˜ì„Â `send`
    
    ```jsx
    myContract.methods.myMethod(123).send()
    ```
    
- ì¢€ë¹„ ë°ì´í„° ë°›ê¸°
    - ì»¨íŠ¸ë™íŠ¸ì—ì„œ ë°ì´í„°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´Â `call`ì„ ì‚¬ìš©í•˜ëŠ” ì‹¤ì œ ì˜ˆì œ
    - ì¢€ë¹„ ë°°ì—´ì„Â `public`ìœ¼ë¡œ ë§Œë“¤ì—ˆë˜ ê²ƒ
    
    ```solidity
    Zombie[] public zombies;
    ```
    
    - ì†”ë¦¬ë””í‹°ì—ì„œ,Â `public`ìœ¼ë¡œ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©´ ìë™ìœ¼ë¡œ ê°™ì€ ì´ë¦„ì˜ í¼ë¸”ë¦­ "getter" í•¨ìˆ˜ë¥¼ ë§Œë“¬. IDÂ `15`ì¸ ì¢€ë¹„ë¥¼ ì°¾ê¸¸ ì›í•œë‹¤ë©´, ë³€ìˆ˜ë¥¼ í•¨ìˆ˜ì¸ ê²ƒì²˜ëŸ¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŒ
        - ex) `zombies(15)`
    - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì¢€ë¹„ IDë¥¼ ë°›ì•„ í•´ë‹¹ ì¢€ë¹„ì— ëŒ€í•´ ì»¨íŠ¸ë™íŠ¸ì— ì§ˆì˜ë¥¼ ë³´ë‚´ê³ , ê²°ê³¼ë¥¼ ë°˜í™˜í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ë¥¼ ì‘ì„±í•˜ëŠ” ë°©ë²•
    
    > *ì°¸ê³ : ì´ë²ˆ ë ˆìŠ¨ì—ì„œ ìš°ë¦¬ê°€ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì½”ë“œ ì˜ˆì œë“¤ì€ ì½œë°± ëŒ€ì‹  Promiseë¥¼ ì‚¬ìš©í•˜ëŠ” Web3.jsÂ **1.0 ë²„ì „**ì„ ì‚¬ìš©í•˜ê³  ìˆë„¤. ìë„¤ê°€ ì˜¨ë¼ì¸ì—ì„œ ì°¾ì„ ìˆ˜ ìˆëŠ” ë‹¤ë¥¸ ë§ì€ íŠœí† ë¦¬ì–¼ë“¤ì—ì„œëŠ” Web3.jsì˜ ì´ì „ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆë„¤. 1.0 ë²„ì „ì—ì„œ ë¬¸ë²•ì´ ë§ì´ ë°”ë€Œì—ˆìœ¼ë‹ˆ, ë§Œì•½ ìë„¤ê°€ ë‹¤ë¥¸ íŠœí† ë¦¬ì–¼ì—ì„œ ì½”ë“œë¥¼ ë³µì‚¬í•´ì˜¨ë‹¤ë©´ ê°™ì€ ë²„ì „ì„ ì‚¬ìš©í•˜ê³  ìˆëŠ”ì§€ í™•ì¸!*
    > 
    
    [Javascript Promise](https://www.notion.so/Javascript-Promise-f7df15382d3744869b59dc27ffb97745) 
    
    ```jsx
    function getZombieDetails(id) {
      return cryptoZombies.methods.zombies(id).call()
    }
    
    // í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ê²°ê³¼ë¥¼ ê°€ì§€ê³  ë¬´ì–¸ê°€ë¥¼ ì²˜ë¦¬:
    getZombieDetails(15)
    .then(function(result) {
      console.log("Zombie 15: " + JSON.stringify(result));
    });
    ```
    
    - `cryptoZombies.methods.zombies(id).call()`ëŠ” Web3 í”„ë¡œë°”ì´ë”ì™€ í†µì‹ í•˜ì—¬ ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì˜Â `Zombie[] public zombies`ì—ì„œ ì¸ë±ìŠ¤ê°€Â `id`ì¸ ì¢€ë¹„ë¥¼ ë°˜í™˜í•˜ë„ë¡
        - ì™¸ë¶€ ì„œë²„ë¡œ API í˜¸ì¶œì„ í•˜ëŠ” ê²ƒì²˜ëŸ¼Â **ë¹„ë™ê¸°**ì ìœ¼ë¡œ ì¼ì–´ë‚¨
    - Web3ëŠ” ì—¬ê¸°ì„œ Promiseë¥¼ ë°˜í™˜
    - Promiseê°€ ë§Œë“¤ì–´ì§€ë©´(Web3 í”„ë¡œë°”ì´ë”ë¡œë¶€í„° ì‘ë‹µì„ ë°›ì•˜ë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸) ì˜ˆì œ ì½”ë“œëŠ”Â `then`ë¬¸ì¥ì„ ì‹¤í–‰í•˜ê³ , ì—¬ê¸°ì„œÂ `result`ë¥¼ ì½˜ì†”ì— ë¡œê·¸ë¡œ ê¸°ë¡
    - `result`ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒê¸´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê°ì²´
        
        ```jsx
        {
          "name": "H4XF13LD MORRIS'S COOLER OLDER BROTHER",
          "dna": "1337133713371337",
          "level": "9999",
          "readyTime": "1522498671",
          "winCount": "999999999",
          "lossCount": "0" // Obviously.
        }
        ```
        
        - ì´ ê°ì²´ë¥¼ í•´ì„í•˜ê¸° ìœ„í•œ í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§ì„ ë§Œë“¤ì–´ ì˜ë¯¸ ìˆëŠ” ë°©í–¥ìœ¼ë¡œ ì´ ê°ì²´ë¥¼ í”„ë¡ íŠ¸ì—”ë“œì— í‘œì‹œ
- ì˜ˆì œ)
    1. `zombieToOwner`ì™€ ë¹„ìŠ·í•œ í•¨ìˆ˜ë¥¼ ë§Œë“¤ë„ë¡ í•˜ì§€.Â `ZombieFactory.sol`ì„ ê¸°ì–µí•œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ìƒê¸´ ë§¤í•‘ì´ ìƒê°ë‚  ê²ƒì´ë„¤:
        
        ```solidity
        mapping (uint => address) public zombieToOwner;
        ```
        
        `zombieToOwner`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê²Œ. ìœ„ì˜Â `getZombieDetails`ì™€ ë¹„ìŠ·í•˜ê²Œ, ì´ í•¨ìˆ˜ëŠ”Â `id`ë¥¼ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ê³  ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì˜Â `zombieToOwner`ì— ëŒ€í•œ Web3.jsÂ `call`ì„ ë°˜í™˜í•  ê²ƒì´ë„¤.
        
    2. ê·¸ ì•„ë˜ì—, ì„¸ ë²ˆì§¸ í•¨ìˆ˜ë¡œÂ `getZombiesByOwner`ë¥¼ ë§Œë“¤ê²Œ.Â `ZombieHelper.sol`ì´ ê¸°ì–µë‚œë‹¤ë©´, ë‹¤ìŒê³¼ ê°™ì´ ìƒê¸´ í•¨ìˆ˜ê°€ ìƒê°ë‚  ê²ƒì´ë„¤:
        
        ```solidity
        function getZombiesByOwner(address _owner)
        ```
        
        ìš°ë¦¬ì˜Â `getZombiesByOwner`Â í•¨ìˆ˜ëŠ”Â `owner`ë¥¼ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ê³ ,Â `getZombiesByOwner`ì— ëŒ€í•œ Web3.jsÂ `call`ì„ ë°˜í™˜í•  ê²ƒì´ë„¤. 
        
    - ì˜ˆì œ ì½”ë“œ
        
        ```jsx
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <title>CryptoZombies front-end</title>
            <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script language="javascript" type="text/javascript" src="web3.min.js"></script>
            <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
          </head>
          <body>
        
            <script>
              var cryptoZombies;
        
              function startApp() {
                var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
                cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
              }
        
              function getZombieDetails(id) {
                return cryptoZombies.methods.zombies(id).call()
              }
        
              // 1. ì—¬ê¸°ì— `zombieToOwner`ë¥¼ ì •ì˜í•˜ê²Œ.
              function zombieToOwner(id){
                return cryptoZombies.methods.zombieToOwner(id).call()
              }
        
              // 2. ì—¬ê¸°ì— `getZombiesByOwner`ë¥¼ ì •ì˜í•˜ê²Œ.
              function getZombiesByOwner(owner){
                return cryptoZombies.methods.getZombiesByOwner(owner).call()
              }
        
              window.addEventListener('load', function() {
        
                // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
                if (typeof web3 !== 'undefined') {
                  // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
                  web3js = new Web3(web3.currentProvider);
                } else {
                  // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
                  // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
                }
        
                // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
                startApp()
        
              })
            </script>
          </body>
        </html>
        ```
        

### ****ë©”íƒ€ë§ˆìŠ¤í¬ & ê³„ì •****

ìš°ë¦¬ ì•±ì˜ í™ˆí˜ì´ì§€ì— ì‚¬ìš©ìì˜ ì „ì²´ ì¢€ë¹„ êµ°ëŒ€ë¥¼ ë³´ì—¬ì£¼ê³  ì‹¶ë‹¤ê³  ê°€ì •. í˜„ì¬ ì‚¬ìš©ìê°€ ê°€ì§€ê³  ìˆëŠ” ëª¨ë“  ì¢€ë¹„ë“¤ì˜ IDë¥¼ ì°¾ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” ë¶„ëª… ì²« ë²ˆì§¸ë¡œÂ `getZombiesByOwner(owner)`í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ì•¼ í•  ê²ƒ.

í•˜ì§€ë§Œ ìš°ë¦¬ì˜ ì†”ë¦¬ë””í‹° ì»¨íŠ¸ë™íŠ¸ëŠ”Â `owner`ì— ì†”ë¦¬ë””í‹°Â `address`ë¥¼ ë³´ë‚´ë„ë¡ ë˜ì–´ ìˆìŒ. ê·¸ë ‡ë‹¤ë©´ ìš°ë¦¬ê°€ ì–´ë–»ê²Œ ìš°ë¦¬ ì•±ì„ ì‚¬ìš©í•˜ëŠ” ì‚¬ìš©ìì˜ ì£¼ì†Œë¥¼ ì•Œ ìˆ˜ ìˆë‚˜?

- ****ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ ì‚¬ìš©ì ê³„ì • ê°€ì ¸ì˜¤ê¸°****
    - ë©”íƒ€ë§ˆìŠ¤í¬ëŠ” í™•ì¥ í”„ë¡œê·¸ë¨ ì•ˆì—ì„œ ì‚¬ìš©ìë“¤ì´ ë‹¤ìˆ˜ì˜ ê³„ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ë„¤.
    - ìš°ë¦¬ëŠ” ì£¼ì…ë˜ì–´ ìˆëŠ”Â `web3`ë³€ìˆ˜ì— í˜„ì¬ í™œì„±í™”ëœ ê³„ì •ì´ ë¬´ì—‡ì¸ì§€ ë‹¤ìŒì²˜ëŸ¼ í™•ì¸í•  ìˆ˜ ìˆì§€:
    
    ```jsx
    var userAccount = web3.eth.accounts[0]
    ```
    
    - ì‚¬ìš©ìê°€ ì–¸ì œë“ ì§€ ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ í™œì„±í™”ëœ ê³„ì •ì„ ë°”ê¿€ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ìš°ë¦¬ ì•±ì€ ì´ ë³€ìˆ˜ì˜ ê°’ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ ê³„ì† ê°ì‹œë¥¼ í•˜ê³  ê°’ì´ ë°”ë€Œë©´ ê·¸ì— ë”°ë¼ UIë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•  ê²ƒì´ë„¤. ì˜ˆë¥¼ ë“¤ì–´, ì‚¬ìš©ìë“¤ì˜ í™ˆí˜ì´ì§€ì—ì„œ ê·¸ë“¤ì˜ ì¢€ë¹„ êµ°ëŒ€ë¥¼ í‘œì‹œí•˜ê³  ì‹¶ë‹¤ë©´, ë©”íƒ€ë§ˆìŠ¤í¬ì—ì„œ ê³„ì •ì„ ë°”ê¾¸ì—ˆì„ ë•Œ ë°”ë€ ê³„ì •ì— ëŒ€í•œ ì¢€ë¹„ êµ°ëŒ€ë¥¼ ë³´ì—¬ì£¼ê¸° ìœ„í•´ í˜ì´ì§€ë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•  ê²ƒì´ë„¤.
    - ì´ë¥¼ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´Â `setInterval`ì„ ì“¸ ìˆ˜ ìˆë„¤:
    
    ```jsx
    var accountInterval = setInterval(function() {
      // ê³„ì •ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸
      if (web3.eth.accounts[0] !== userAccount) {
        userAccount = web3.eth.accounts[0];
        // ìƒˆ ê³„ì •ì— ëŒ€í•œ UIë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ í˜¸ì¶œ
        updateInterface();
      }
    }, 100);
    ```
    
    - ì—¬ê¸°ì„œëŠ”Â `userAccount`ê°€ ì—¬ì „íˆÂ `web3.eth.accounts[0]`ê³¼ ê°™ì€ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ 100ë°€ë¦¬ì´ˆë§ˆë‹¤ í™•ì¸í•˜ê³  ìˆë„¤(ì¦‰ ì‚¬ìš©ìê°€ í•´ë‹¹ ê³„ì •ì„ í™œì„±í™”í•´ë†“ì•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ê²ƒì´ì§€). ê·¸ë ‡ì§€ ì•Šë‹¤ë©´,Â `userAccount`ì— í˜„ì¬ í™œì„±í™”ëœ ê³„ì •ì„ ë‹¤ì‹œ í• ë‹¹í•˜ê³ , í™”ë©´ì„ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë„¤.
- ì˜ˆì œ) í˜ì´ì§€ê°€ ì²˜ìŒ ë¡œë“œë  ë•Œ ì‚¬ìš©ìì˜ ì¢€ë¹„ êµ°ëŒ€ë¥¼ ìš°ë¦¬ ì•±ì—ì„œ ë³´ì—¬ì¤„ ìˆ˜ ìˆê²Œ ë§Œë“¤ì–´ ë³´ë„ë¡ í•˜ì§€. ê·¸ë¦¬ê³  í™œì„±í™” ê³„ì •ì´ ë°”ë€Œë©´ í™”ë©´ì„ ê°±ì‹ í•  ìˆ˜ ìˆê²Œ ê°ì‹œë¥¼ í•  ê²ƒì´ë„¤.
    1. `userAccount`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œÂ `var`ë¥¼ ì„ ì–¸í•˜ê²Œ. ê°’ì„ í• ë‹¹í•˜ì§€ëŠ” ì•Šë„ë¡ í•˜ê²Œ.
    2. `startApp()`ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì—ì„œ, ìœ„ì˜Â `accountInterval`Â ì˜ˆì œ ì½”ë“œë¥¼ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•˜ê²Œ.
    3. `updateInterface();`Â ì¤„ì„Â `getZombiesByOwner`ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒìœ¼ë¡œ êµì²´í•˜ê³ Â `userAccount`ë¥¼ ì „ë‹¬í•˜ê²Œ.
    4. `getZombiesByOwner`Â ì´í›„Â `then`ì ˆì„ ì´ì–´ ê²°ê³¼ê°’ì„Â `displayZombies`ë¼ëŠ” ì´ë¦„ì˜ í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ê²Œ(êµ¬ë¬¸ì€ ë‹¤ìŒê³¼ ê°™ë„¤:Â `.then(displayZombies);`).
        
        `displayZombies`ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì•„ì§ ë§Œë“¤ì§€ ì•Šì•˜ì§€ë§Œ, ë‹¤ìŒ ì±•í„°ì—ì„œ ì´ë¥¼ êµ¬í˜„í•  ê²ƒì´ë„¤. 
        
- ì˜ˆì œ ì½”ë“œ
    
    ```jsx
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8">
        <title>CryptoZombies front-end</title>
        <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script language="javascript" type="text/javascript" src="web3.min.js"></script>
        <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
      </head>
      <body>
    
        <script>
          var cryptoZombies;
          // 1. ì—¬ê¸°ì— `userAccount`ë¥¼ ì„ ì–¸í•˜ê²Œ.
          var userAccount;
    
          function startApp() {
            var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
            cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
    
            // 2. ì—¬ê¸°ì— `setInterval` ì½”ë“œë¥¼ ë§Œë“¤ê²Œ.
            var accountInterval = setInterval(function() {
            // ê³„ì •ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸
              if (web3.eth.accounts[0] !== userAccount) {
                userAccount = web3.eth.accounts[0];
              // ìƒˆ ê³„ì •ì— ëŒ€í•œ UIë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ í˜¸ì¶œ
                getZombiesByOwner(userAccount).then(displayZombies);
              }
            }, 100);
          }
    
          function getZombieDetails(id) {
            return cryptoZombies.methods.zombies(id).call()
          }
    
          function zombieToOwner(id) {
            return cryptoZombies.methods.zombieToOwner(id).call()
          }
    
          function getZombiesByOwner(owner) {
            return cryptoZombies.methods.getZombiesByOwner(owner).call()
          }
    
          window.addEventListener('load', function() {
    
            // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
            if (typeof web3 !== 'undefined') {
              // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
              web3js = new Web3(web3.currentProvider);
            } else {
              // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
              // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
            }
    
            // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
            startApp()
    
          })
        </script>
      </body>
    </html>
    ```
    

### ****ì¢€ë¹„ êµ°ëŒ€ ë³´ì—¬ì£¼ê¸°****

CryptoZombies.ioì˜ ì´ˆì ì„ ì´ë”ë¦¬ì›€ê³¼ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ë§ì¶”ê¸° ìœ„í•´,  jQueryë¥¼ ì´ìš©í•œ ê°„ë‹¨í•œ ì˜ˆì œë¥¼ í†µí•´ ì–´ë–»ê²Œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì „ë‹¬ë°›ì€ ë°ì´í„°ë¥¼ íŒŒì‹±í•˜ê³  í‘œí˜„í•  ìˆ˜ ìˆì„ì§€ ë³´ì—¬ì¤„ ê²ƒ.

- ****ì¢€ë¹„ ë°ì´í„° ë³´ì—¬ì£¼ê¸° - ê°„ë‹¨í•œ ì˜ˆì œ****
    - ë¬¸ì„œì˜ ë‚´ìš©ì— ë¹ˆÂ `<div id="zombies"></div>`ì™€ ë¹ˆÂ `displayZombies`Â í•¨ìˆ˜ë¥¼ ì¶”ê°€.
    - ì§€ë‚œ ì±•í„°ì—ì„œ ìš°ë¦¬ê°€Â `startApp()`Â ë‚´ì—ì„œÂ `getZombiesByOwner`ì˜ í˜¸ì¶œ ê²°ê³¼ë¥¼ ì¨ì„œ í˜¸ì¶œí•œÂ `displayZombies`ë¥¼ ìƒê¸°í•´ë³´ê²Œ. ê·¸ í•¨ìˆ˜ì˜ ê²°ê³¼ë¡œ ì•„ë˜ì™€ ê°™ì´ ìƒê¸´ ì¢€ë¹„ ID ë°°ì—´ì„ ì „ë‹¬ë°›ì„ ìˆ˜ ìˆì„ ê±¸ì„¸. ë”°ë¼ì„œÂ `displayZombies`í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê²ƒì„ í•  ê²ƒì´ë„¤:
    1. ë¨¼ì € ì´ë¯¸ ë¬´ì–¸ê°€ê°€Â `#zombies`Â divì˜ ì•ˆì— ë“¤ì–´ ìˆë‹¤ë©´ ì´ divì˜ ë‚´ìš©ì„ ë¹„ìš°ê²Œ(ì´ë ‡ê²Œ í•˜ë©´ ì‚¬ìš©ìê°€ ê·¸ë“¤ì˜ í™œì„±í™”ëœ MetaMask ê³„ì •ì„ ë³€ê²½í•˜ë©´ ìƒˆë¡œìš´ ì¢€ë¹„ êµ°ëŒ€ë¥¼ ë¡œë”©í•˜ê¸° ì „ì— ê¸°ì¡´ì˜ ê²ƒì„ ì‚­ì œí•  ê²ƒì´ë„¤).
    2. ë°˜ë³µì„ í†µí•´ ê°Â `id`ë§ˆë‹¤Â `getZombieDetails(id)`ë¥¼ í˜¸ì¶œí•´ì„œ ìš°ë¦¬ì˜ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì¢€ë¹„ì— ëŒ€í•œ ëª¨ë“  ì •ë³´ë¥¼ ì°¾ê²Œ. ê·¸ë¦¬ê³ ì„œ
    3. í™”ë©´ì— í‘œì‹œí•˜ê¸° ìœ„í•´ HTML í…œí”Œë¦¿ì— ì¢€ë¹„ì— ëŒ€í•œ ì •ë³´ë¥¼ ì§‘ì–´ë„£ê³ , í•´ë‹¹ í…œí”Œë¦¿ì„Â `#zombies`Â divì— ë¶™ì—¬ë„£ê²Œ. 
    
    ```jsx
    // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì¢€ë¹„ ìƒì„¸ ì •ë³´ë¥¼ ì°¾ì•„, `zombie` ê°ì²´ ë°˜í™˜
    getZombieDetails(id)
    .then(function(zombie) {
      // HTMLì— ë³€ìˆ˜ë¥¼ ë„£ê¸° ìœ„í•´ ES6ì˜ "template literal" ì‚¬ìš©
      // ê°ê°ì„ #zombies divì— ë¶™ì—¬ë„£ê¸°
      $("#zombies").append(`<div class="zombie">
        <ul>
          <li>Name: ${zombie.name}</li>
          <li>DNA: ${zombie.dna}</li>
          <li>Level: ${zombie.level}</li>
          <li>Wins: ${zombie.winCount}</li>
          <li>Losses: ${zombie.lossCount}</li>
          <li>Ready Time: ${zombie.readyTime}</li>
        </ul>
      </div>`);
    });
    ```
    
- ****ì¢€ë¹„ ìŠ¤í”„ë¼ì´íŠ¸ëŠ” ì–´ë–»ê²Œ í‘œí˜„í•˜ë‚˜ìš”?****
    
    ìœ„ ì˜ˆì œì—ì„œ ìš°ë¦¬ëŠ” DNAë¥¼ ë¬¸ìì—´ë¡œ ê°„ë‹¨íˆ í‘œí˜„í•´ ë³´ì•˜ë„¤. í•˜ì§€ë§Œ ìë„¤ì˜ DAppì—ì„œëŠ” ì´ê²ƒì„ ì´ë¯¸ì§€ë¡œ ë°”ê¿”ì„œ ìë„¤ì˜ ì¢€ë¹„ë¥¼ í‘œí˜„í•˜ê³  ì‹¶ì„ ê±¸ì„¸. ìš°ë¦° DNA ë¬¸ìì—´ì„ ë¶€ë¶„ ë¬¸ìì—´ë¡œ ë‚˜ëˆ„ê³ , ëª¨ë“  2ìë¦¬ ìˆ«ìë¥¼ ì´ë¯¸ì§€ì— ëŒ€ì‘ì‹œì¼œ ì•„ë˜ì™€ ê°™ì´ ì´ ì‘ì—…ì„ ì²˜ë¦¬í–ˆì—ˆë„¤: 
    
    ```jsx
    // ì¢€ë¹„ì˜ ë¨¸ë¦¬ë¥¼ í‘œí˜„í•˜ëŠ” 1-7ì˜ ì •ìˆ˜ ì–»ê¸°
    var head = parseInt(zombie.dna.substring(0, 2)) % 7 + 1
    
    // ìˆœì°¨ì ì¸ íŒŒì¼ ì´ë¦„ìœ¼ë¡œ 7ê°œì˜ ë¨¸ë¦¬ ì´ë¯¸ì§€ë¥¼ ê°€ì§€ê³  ìˆë„¤:
    var headSrc = "../assets/zombieparts/head-" + head + ".png"
    ```
    
    ê° ì»´í¬ë„ŒíŠ¸ëŠ” CSSì˜ ì ˆëŒ€ ì¢Œí‘œ í¬ì§€ì…”ë‹ì„ ì´ìš©í•´ ë‹¤ë¥¸ ì´ë¯¸ì§€ ìœ„ì— ìœ„ì¹˜í•  ê±¸ì„¸.
    
    ë§Œì•½ ìë„¤ê°€ ìš°ë¦¬ì˜ ì •í™•í•œ êµ¬í˜„ì„ ë³´ê³ ì‹¶ë‹¤ë©´, ì¢€ë¹„ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ ìš°ë¦¬ê°€ ì‚¬ìš©í•œ Vue.js ì»´í¬ë„ŒíŠ¸ ì†ŒìŠ¤ë¥¼ ê³µê°œí•´ë†“ì•˜ë„¤. ê·¸ê±´Â [ì—¬ê¸°](https://github.com/loomnetwork/zombie-char-component)ì—ì„œ ë³¼ ìˆ˜ ìˆë„¤.
    
    í•˜ì§€ë§Œ ì € íŒŒì¼ì—ëŠ” ë§ì€ ì½”ë“œê°€ í¬í•¨ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ê·¸ê±´ íŠœí† ë¦¬ì–¼ì˜ ë²”ì£¼ ë°–ì´ë¼ë„¤. ìš°ë¦° ìœ„ì—ì„œ ë³¸ ë§¤ìš° ê°„ë‹¨í•œ jQuery êµ¬í˜„ì— ì§‘ì¤‘í•  ê²ƒì´ê³ , ì¢€ ë” ì•„ë¦„ë‹¤ìš´ í‘œí˜„ì€ ìë„¤ì—ê²Œ ìˆ™ì œë¡œ ë‚¨ê²¨ë‘ê² ë„¤ ğŸ˜‰.
    
- ì˜ˆì œ)
    1. ìš°ë¦¬ê°€ ì²˜ìŒ í•  ê²ƒì€Â `#zombies`Â divë¥¼ ë¹„ìš°ëŠ” ê²ƒì´ë„¤. jQueryì—ì„œëŠ”Â `$("#zombies").empty();`ë¥¼ ì´ìš©í•´ì„œ ì´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆë„¤.
    2. ë‹¤ìŒìœ¼ë¡œ, for ë°˜ë³µë¬¸ì„ ì´ìš©í•´ ëª¨ë“  idì— ì ‘ê·¼í•´ì•¼ í•˜ë„¤:Â `for (id of ids) {`
    3. for ë°˜ë³µë¬¸ì—ì„œ ê° idì— ëŒ€í•´Â `getZombieDetails(id)`ë¼ëŠ” ì½”ë“œ ë¸”ë¡ì„ ë³µì‚¬/ë¶™ì—¬ë„£ê¸°í•œ ë‹¤ìŒÂ `$("#zombies").append(...)`ë¥¼ ì‚¬ìš©í•˜ì—¬ HTMLì— ì¶”ê°€í•˜ê²Œ. 
    - ì—ì œ ì½”ë“œ
        
        ```jsx
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <title>CryptoZombies front-end</title>
            <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script language="javascript" type="text/javascript" src="web3.min.js"></script>
            <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
          </head>
          <body>
            <div id="zombies"></div>
        
            <script>
              var cryptoZombies;
              var userAccount;
        
              function startApp() {
                var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
                cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
        
                var accountInterval = setInterval(function() {
                  // ê³„ì •ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸
                  if (web3.eth.accounts[0] !== userAccount) {
                    userAccount = web3.eth.accounts[0];
                    // ìƒˆ ê³„ì •ì— ëŒ€í•œ UIë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ í˜¸ì¶œ
                    getZombiesByOwner(userAccount)
                    .then(displayZombies);
                  }
                }, 100);
              }
        
              function displayZombies(ids) {
                $("#zombies").empty();
                for (id of ids) {
                  getZombieDetails(id)
                  .then(function(zombie) {
        
                    $("#zombies").append(`<div class="zombie">
                      <ul>
                        <li>Name: ${zombie.name}</li>
                        <li>DNA: ${zombie.dna}</li>
                        <li>Level: ${zombie.level}</li>
                        <li>Wins: ${zombie.winCount}</li>
                        <li>Losses: ${zombie.lossCount}</li>
                        <li>Ready Time: ${zombie.readyTime}</li>
                      </ul>
                    </div>`);
                  })
                }
              }
        
              function getZombieDetails(id) {
                return cryptoZombies.methods.zombies(id).call()
              }
        
              function zombieToOwner(id) {
                return cryptoZombies.methods.zombieToOwner(id).call()
              }
        
              function getZombiesByOwner(owner) {
                return cryptoZombies.methods.getZombiesByOwner(owner).call()
              }
        
              window.addEventListener('load', function() {
        
                // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
                if (typeof web3 !== 'undefined') {
                  // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
                  web3js = new Web3(web3.currentProvider);
                } else {
                  // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
                  // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
                }
        
                // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
                startApp()
        
              })
            </script>
          </body>
        </html>
        ```
        

### ****íŠ¸ëœì­ì…˜ ë³´ë‚´ê¸°****

ì´ì œÂ `send`Â í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì˜ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ë°©ë²•ì„ ì‚´í´ë³´ë„ë¡ í•˜ì§€.

ì´ í•¨ìˆ˜ì—ëŠ”Â `call`Â í•¨ìˆ˜ì™€ëŠ” ê½¤ ë‹¤ë¥¸ ë¶€ë¶„ì´ ìˆë„¤:

1. íŠ¸ëœì­ì…˜ì„ ì „ì†¡(`send`)í•˜ë ¤ë©´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ ì‚¬ëŒì˜Â `from`Â ì£¼ì†Œê°€ í•„ìš”í•˜ë„¤(ì†”ë¦¬ë””í‹° ì½”ë“œì—ì„œëŠ”Â `msg.sender`ê°€ ë  ê²ƒì´ë„¤). ì´ëŠ” ìš°ë¦¬ DAppì˜ ì‚¬ìš©ìê°€ ë˜ì–´ì•¼ í•  ê²ƒì´ë‹ˆ, ë©”íƒ€ë§ˆìŠ¤í¬ê°€ ë‚˜íƒ€ë‚˜ ê·¸ë“¤ì—ê²Œ ì„œëª…ì„ í•˜ë„ë¡ í• ê±¸ì„¸.
2. íŠ¸ëœì­ì…˜ ì „ì†¡(`send`)ì€ ê°€ìŠ¤ë¥¼ ì†Œëª¨í•˜ë„¤.
3. ì‚¬ìš©ìê°€ íŠ¸ëœì­ì…˜ ì „ì†¡ì„ í•˜ê³  ë‚œ í›„ ì‹¤ì œë¡œ ë¸”ë¡ì²´ì¸ì— ì ìš©ë  ë•Œê¹Œì§€ëŠ” ìƒë‹¹í•œ ì§€ì—°ì´ ë°œìƒí•  ê²ƒì´ë„¤. íŠ¸ëœì­ì…˜ì´ ë¸”ë¡ì— í¬í•¨ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ë°, ì´ë”ë¦¬ì›€ì˜ í‰ê·  ë¸”ë¡ ì‹œê°„ì´ 15ì´ˆì´ê¸° ë•Œë¬¸ì´ì§€. ë§Œì•½ ì´ë”ë¦¬ì›€ì— ë³´ë¥˜ ì¤‘ì¸ ê±°ë˜ê°€ ë§ê±°ë‚˜ ì‚¬ìš©ìê°€ ê°€ìŠ¤ ê°€ê²©ì„ ì§€ë‚˜ì¹˜ê²Œ ë‚®ê²Œ ë³´ë‚¼ ê²½ìš°, ìš°ë¦¬ íŠ¸ëœì­ì…˜ì´ ë¸”ë¡ì— í¬í•¨ë˜ê¸¸ ê¸°ë‹¤ë ¤ì•¼ í•˜ê³ , ì´ëŠ” ëª‡ ë¶„ì”© ê±¸ë¦´ ìˆ˜ ìˆë„¤.

ê·¸ëŸ¬ë‹ˆ ì´ ì½”ë“œì˜ ë¹„ë™ê¸°ì  íŠ¹ì„±ì„ ë‹¤ë£¨ê¸° ìœ„í•œ ë¡œì§ì´ í•„ìš”í•˜ê²Œ ë  ê±¸ì„¸.

- ****ì¢€ë¹„ ë§Œë“¤ê¸°****
    - í˜¸ì¶œí•  ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ ë‚´ì˜ ì²«ë²ˆì§¸ í•¨ìˆ˜ë¥¼ ì˜ˆì œë¡œ ì‚´í•Œ:Â `createRandomZombie`
    - ì—¬ê¸°ì„œ ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì˜ ì†”ë¦¬ë””í‹° ì½”ë“œë¥¼ ë‹¤ì‹œ í™•ì¸:
    
    ```solidity
    function createRandomZombie(string _name) public {
      require(ownerZombieCount[msg.sender] == 0);
      uint randDna = _generateRandomDna(_name);
      randDna = randDna - randDna % 100;
      _createZombie(_name, randDna);
    }
    ```
    
    - ë‹¤ìŒì€ ë©”íƒ€ë§ˆìŠ¤í¬ë¥¼ ì‚¬ìš©í•´ Web3.jsì—ì„œ ìœ„ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë°©ë²•ì˜ ì˜ˆì œì¼ì„¸:
    
    ```jsx
    function createRandomZombie(name) {
      // ì‹œê°„ì´ ê½¤ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ, íŠ¸ëœì­ì…˜ì´ ë³´ë‚´ì¡Œë‹¤ëŠ” ê²ƒì„
      // ìœ ì €ê°€ ì•Œ ìˆ˜ ìˆë„ë¡ UIë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨
      $("#txStatus").text("Creating new zombie on the blockchain. This may take a while...");
      // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì— ì „ì†¡í•˜ê¸°:
      return CryptoZombies.methods.createRandomZombie(name)
      .send({ from: userAccount })
      .on("receipt", function(receipt) {
        $("#txStatus").text("Successfully created " + name + "!");
        // ë¸”ë¡ì²´ì¸ì— íŠ¸ëœì­ì…˜ì´ ë°˜ì˜ë˜ì—ˆìœ¼ë©°, UIë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•¨
        getZombiesByOwner(userAccount).then(displayZombies);
      })
      .on("error", function(error) {
        // ì‚¬ìš©ìë“¤ì—ê²Œ íŠ¸ëœì­ì…˜ì´ ì‹¤íŒ¨í–ˆìŒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì²˜ë¦¬
        $("#txStatus").text(error);
      });
    }
    ```
    
    - ìœ„ í•¨ìˆ˜ëŠ” ìš°ë¦¬ì˜ Web3 í”„ë¡œë°”ì´ë”ì—ê²Œ íŠ¸ëœì­ì…˜ì„ ì „ì†¡(`send`)í•˜ê³ , ëª‡ ê°€ì§€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë“¤ì„ ì—°ê²°í•˜ë„¤:
        - `receipt`ëŠ” íŠ¸ëœì­ì…˜ì´ ì´ë”ë¦¬ì›€ì˜ ë¸”ë¡ì— í¬í•¨ë  ë•Œ, ì¦‰ ì¢€ë¹„ê°€ ìƒì„±ë˜ê³  ìš°ë¦¬ì˜ ì»¨íŠ¸ë™íŠ¸ì— ì €ì¥ë˜ì—ˆì„ ë•Œ ë°œìƒí•˜ê²Œ ë˜ë„¤.
        - `error`ëŠ” íŠ¸ëœì­ì…˜ì´ ë¸”ëŸ­ì— í¬í•¨ë˜ì§€ ëª»í–ˆì„ ë•Œ, ì˜ˆë¥¼ ë“¤ì–´ ì‚¬ìš©ìê°€ ì¶©ë¶„í•œ ê°€ìŠ¤ë¥¼ ì „ì†¡í•˜ì§€ ì•Šì•˜ì„ ë•Œ ë°œìƒí•˜ê²Œ ë˜ë„¤. ìš°ë¦¬ëŠ” ìš°ë¦¬ì˜ UIë¥¼ í†µí•´ ì‚¬ìš©ìì—ê²Œ íŠ¸ëœì­ì…˜ì´ ì „ì†¡ë˜ì§€ ì•Šì•˜ìŒì„ ì•Œë¦¬ê³ , ë‹¤ì‹œ ì‹œë„í•  ìˆ˜ ìˆë„ë¡ í•  ê²ƒì´ë„¤.
        
        > *ì°¸ê³ : ìë„¤ê°€Â `send`ë¥¼ í˜¸ì¶œí•  ë•ŒÂ `gas`ì™€Â `gasPrice`ë¥¼ ì„ íƒì ìœ¼ë¡œ ì§€ì •í•  ìˆ˜ ìˆë„¤.Â `.send({ from: userAccount, gas: 3000000 })`ì™€ ê°™ì´ ë§ì´ì•¼. ë§Œì•½ ì§€ì •í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´, ë©”íƒ€ë§ˆìŠ¤í¬ëŠ” ì‚¬ìš©ìê°€ ì´ ê°’ë“¤ì„ ì„ íƒí•  ìˆ˜ ìˆë„ë¡ í•  ê±¸ì„¸.*
        > 
- ì˜ˆì œ) IDê°€Â `txStatus`ì¸Â `div`ë¥¼ ì¶”ê°€í•´ ë†“ì•˜ë„¤. ìš°ë¦° ì´ divë¥¼ ì‚¬ìš©í•´ ìš°ë¦¬ íŠ¸ëœì­ì…˜ì˜ ìƒíƒœë¥¼ ì‚¬ìš©ìì—ê²Œ ë©”ì‹œì§€ë¡œ ì•Œë¦´ ìˆ˜ ìˆë„¤.
    1. `displayZombies`Â ì•„ë˜ì— ìœ„ì˜Â `createRandomZombie`ë¥¼ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•˜ê²Œ.
    2. `feedOnKitty`Â ë¼ëŠ” ë˜ ë‹¤ë¥¸ í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ë³´ê² ë„¤.
        
        `feedOnKitty`ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¡œì§ì€ ê±°ì˜ ë™ì¼í•˜ë„¤ - í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” íŠ¸ëœì­ì…˜ì„ ë³´ë‚´ê³ , íŠ¸ëœì­ì…˜ì´ ì„±ê³µí•˜ë©´ ìƒˆë¡œìš´ ì¢€ë¹„ê°€ ìƒì„±ë  ê²ƒì´ë„¤. ê·¸ëŸ¬ë‹ˆ ì„±ê³µ í›„ì—ëŠ” UIë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•  ê²ƒì´ë„¤.
        
        `createRandomZombie`ë¥¼ ê·¸ê²ƒ ë°”ë¡œ ì•„ë˜ì— ë³µì‚¬í•˜ê³ , ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ê²Œ:
        
        a) 2ê°œì˜ ì¸ìÂ `zombieId`ì™€Â `kittyId`ë¥¼ ë°›ëŠ” ë‘ ë²ˆì§¸ í•¨ìˆ˜Â `feedOnKitty`ë¥¼ í˜¸ì¶œí•˜ê²Œ.
        
        b)Â `#txStatus`Â í…ìŠ¤íŠ¸ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ì—…ë°ì´íŠ¸í•˜ê²Œ: "Eating a kitty. This may take a while..."
        
        c) ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì˜Â `feedOnKitty`ë¥¼ í˜¸ì¶œí•˜ê²Œ í•˜ê³ , ê°™ì€ 2ê°œì˜ ì¸ìë¥¼ ì „ë‹¬í•˜ê²Œ.
        
        d)Â `#txStatus`ì— ì„±ê³µ ë©”ì„¸ì§€ë¡œ "Ate a kitty and spawned a new Zombie!"ë¥¼ ì“°ê²Œ. 
        
        - ì˜ˆì œ ì½”ë“œ
            
            ```jsx
            <!DOCTYPE html>
            <html lang="en">
              <head>
                <meta charset="UTF-8">
                <title>CryptoZombies front-end</title>
                <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                <script language="javascript" type="text/javascript" src="web3.min.js"></script>
                <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
              </head>
              <body>
                <div id="txStatus"></div>
                <div id="zombies"></div>
            
                <script>
                  var cryptoZombies;
                  var userAccount;
            
                  function startApp() {
                    var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
                    cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
            
                    var accountInterval = setInterval(function() {
                      // ê³„ì •ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸
                      if (web3.eth.accounts[0] !== userAccount) {
                        userAccount = web3.eth.accounts[0];
                        // ìƒˆ ê³„ì •ì— ëŒ€í•œ UIë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ í˜¸ì¶œ
                        getZombiesByOwner(userAccount)
                        .then(displayZombies);
                      }
                    }, 100);
                  }
            
                  function displayZombies(ids) {
                    $("#zombies").empty();
                    for (id of ids) {
                      // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì¢€ë¹„ ìƒì„¸ ì •ë³´ë¥¼ ì°¾ì•„, `zombie` ê°ì²´ ë°˜í™˜
                      getZombieDetails(id)
                      .then(function(zombie) {
                        // HTMLì— ë³€ìˆ˜ë¥¼ ë„£ê¸° ìœ„í•´ ES6ì˜ "template literal" ì‚¬ìš©
                        // ê°ê°ì„ #zombies divì— ë¶™ì—¬ë„£ê¸°
                        $("#zombies").append(`<div class="zombie">
                          <ul>
                            <li>Name: ${zombie.name}</li>
                            <li>DNA: ${zombie.dna}</li>
                            <li>Level: ${zombie.level}</li>
                            <li>Wins: ${zombie.winCount}</li>
                            <li>Losses: ${zombie.lossCount}</li>
                            <li>Ready Time: ${zombie.readyTime}</li>
                          </ul>
                        </div>`);
                      });
                    }
                    function createRandomZombie(name) {
                      // ì‹œê°„ì´ ê½¤ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ, íŠ¸ëœì­ì…˜ì´ ë³´ë‚´ì¡Œë‹¤ëŠ” ê²ƒì„
                      // ìœ ì €ê°€ ì•Œ ìˆ˜ ìˆë„ë¡ UIë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨
                      $("#txStatus").text("Creating new zombie on the blockchain. This may take a while...");
                      // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì— ì „ì†¡í•˜ê¸°:
                      return CryptoZombies.methods.createRandomZombie(name)
                      .send({ from: userAccount })
                      .on("receipt", function(receipt) {
                        $("#txStatus").text("Successfully created " + name + "!");
                        // ë¸”ë¡ì²´ì¸ì— íŠ¸ëœì­ì…˜ì´ ë°˜ì˜ë˜ì—ˆìœ¼ë©°, UIë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•¨
                        getZombiesByOwner(userAccount).then(displayZombies);
                      })
                      .on("error", function(error) {
                        // ì‚¬ìš©ìë“¤ì—ê²Œ íŠ¸ëœì­ì…˜ì´ ì‹¤íŒ¨í–ˆìŒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì²˜ë¦¬
                        $("#txStatus").text(error);
                      });
                  }
            
                  // Start here
                  function feedOnKitty(zombieId, kittyId) {
                      $("#txStatus").text("Eating a kitty. This may take a while...");
                      // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì— ì „ì†¡í•˜ê¸°:
                      return CryptoZombies.methods.feedOnKitty(zombieId, kittyId)
                      .send({ from: userAccount })
                      .on("receipt", function(receipt) {
                        $("#txStatus").text("Ate a kitty and spawned a new Zombie!");
                        // ë¸”ë¡ì²´ì¸ì— íŠ¸ëœì­ì…˜ì´ ë°˜ì˜ë˜ì—ˆìœ¼ë©°, UIë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•¨
                        getZombiesByOwner(userAccount).then(displayZombies);
                      })
                      .on("error", function(error) {
                        // ì‚¬ìš©ìë“¤ì—ê²Œ íŠ¸ëœì­ì…˜ì´ ì‹¤íŒ¨í–ˆìŒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì²˜ë¦¬
                        $("#txStatus").text(error);
                      });  
                  }
            
                  function getZombieDetails(id) {
                    return cryptoZombies.methods.zombies(id).call()
                  }
            
                  function zombieToOwner(id) {
                    return cryptoZombies.methods.zombieToOwner(id).call()
                  }
            
                  function getZombiesByOwner(owner) {
                    return cryptoZombies.methods.getZombiesByOwner(owner).call()
                  }
            
                  window.addEventListener('load', function() {
            
                    // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
                    if (typeof web3 !== 'undefined') {
                      // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
                      web3js = new Web3(web3.currentProvider);
                    } else {
                      // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
                      // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
                    }
            
                    // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
                    startApp()
            
                  })
                </script>
              </body>
            </html>
            ```
            

### ****Payable í•¨ìˆ˜ í˜¸ì¶œí•˜ê¸°****

Web3.jsì—ì„œ íŠ¹ë³„í•œ ì²˜ë¦¬ê°€ í•„ìš”í•œ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ í•¨ìˆ˜ë¥¼ ì‚´í´ë³´ê² ë„¤ - ë°”ë¡œÂ `payable`í•¨ìˆ˜

- ****ë ˆë²¨ì—…!****
    - `ZombieHelper`
    ë¥¼ ë‹¤ì‹œ ìƒê°í•´ë³´ë©´, ìš°ë¦° ì‚¬ìš©ìê°€ ë ˆë²¨ì—…í•  ìˆ˜ ìˆëŠ” ê³³ì— payable í•¨ìˆ˜ë¥¼ ì¶”ê°€í–ˆì—ˆë„¤:
    
    ```solidity
    function levelUp(uint _zombieId) external payable {
      require(msg.value == levelUpFee);
      zombies[_zombieId].level++;
    }
    ```
    
    - í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì´ë”ë¥¼ ë³´ë‚´ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•˜ì§€ë§Œ, ì´ë”ê°€ ì•„ë‹ˆë¼ weië¡œ ì–¼ë§ˆë¥¼ ë³´ë‚¼ì§€ ì •í•´ì•¼ í•˜ëŠ” ì œí•œì´ ìˆë„¤.
- ****Weië€?****
    - `wei`ëŠ” ì´ë”ì˜ ê°€ì¥ ì‘ì€ í•˜ìœ„ ë‹¨ìœ„ì´ë„¤ - í•˜ë‚˜ì˜ ì´ë”ëŠ” 10^18ê°œì˜Â `wei`ì´ì§€.
    
    ```jsx
    // ì´ë ‡ê²Œ í•˜ë©´ 1 ETHë¥¼ Weië¡œ ë°”ê¿€ ê²ƒì´ë„¤
    web3js.utils.toWei("1");
    ```
    
    - ìš°ë¦¬ DAppì—ì„œ, ìš°ë¦¬ëŠ”Â `levelUpFee = 0.001 ether`ë¡œ ì„¤ì •í–ˆë„¤. ê·¸ëŸ¬ë‹ˆÂ `levelup`Â í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œ, ì•„ë˜ì˜ ì½”ë“œë¥¼ ì¨ì„œ ì‚¬ìš©ìê°€Â `0.001`Â ì´ë”ë¥¼ ë³´ë‚´ê²Œ í•  ìˆ˜ ìˆë„¤.
    
    ```jsx
    CryptoZombies.methods.levelUp(zombieId)
    .send({ from: userAccount, value: web3js.utils.toWei("0.001") })
    ```
    
- ì˜ˆì œ ) `levelUp`í•¨ìˆ˜ë¥¼Â `feedOnKitty`ì•„ë˜ì— ì¶”ê°€í•´ ë³´ë„ë¡ í•˜ì§€. ì½”ë“œëŠ”Â `feedOnKitty`ì™€ ë§¤ìš° ë¹„ìŠ·í•  ê²ƒì´ë„¤.
    1. í•¨ìˆ˜ëŠ” 1ê°œì˜ ë§¤ê°œ ë³€ìˆ˜Â `zombieId`Â ë¥¼ ë°›ì„ ê²ƒì´ë„¤.
    2. íŠ¸ëœì­ì…˜ ì „ì—Â `txStatus`Â í…ìŠ¤íŠ¸ë¡œÂ `"ì¢€ë¹„ë¥¼ ë ˆë²¨ì—…í•˜ëŠ” ì¤‘..."`ì„ í‘œì‹œí•´ì•¼ í•˜ë„¤.
    3. ì»¨íŠ¸ë™íŠ¸ì˜Â `levelUp`ì„ í˜¸ì¶œí•  ë•Œ, ìœ„ ì˜ˆì œì²˜ëŸ¼Â `"0.001"`Â ETHë¥¼Â `toWei`ë¡œ ë³€í™˜í•´ì„œ ë³´ë‚´ì•¼ í•˜ë„¤.
    4. ì„±ê³µí•˜ë©´Â `"ì••ë„ì ì¸ í˜! ì¢€ë¹„ê°€ ì„±ê³µì ìœ¼ë¡œ ë ˆë²¨ì—…í–ˆìŠµë‹ˆë‹¤."`Â í…ìŠ¤íŠ¸ë¥¼ í‘œì‹œí•´ì•¼ í•˜ë„¤.
    5. ìš°ë¦°Â `getZombiesByOwner`ë¥¼ í†µí•´ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ì§ˆì˜ë¥¼ í•˜ê³  UIë¥¼ ë‹¤ì‹œ ê·¸ë¦´ í•„ìš”ê°€Â **ì—†ë„¤**Â - ì´ ê²½ìš°ì—ëŠ” ë‹¨ì§€ ì¢€ë¹„ì˜ ë ˆë²¨ë§Œ ë³€í•˜ê¸° ë•Œë¬¸ì´ë„¤. 
    - ì˜ˆì œ ì½”ë“œ
        
        ```jsx
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <title>CryptoZombies front-end</title>
            <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script language="javascript" type="text/javascript" src="web3.min.js"></script>
            <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
          </head>
          <body>
            <div id="txStatus"></div>
            <div id="zombies"></div>
        
            <script>
              var cryptoZombies;
              var userAccount;
        
              function startApp() {
                var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
                cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
        
                var accountInterval = setInterval(function() {
                  // ê³„ì •ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸
                  if (web3.eth.accounts[0] !== userAccount) {
                    userAccount = web3.eth.accounts[0];
                    // ìƒˆ ê³„ì •ì— ëŒ€í•œ UIë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ í˜¸ì¶œ
                    getZombiesByOwner(userAccount)
                    .then(displayZombies);
                  }
                }, 100);
              }
        
              function displayZombies(ids) {
                $("#zombies").empty();
                for (id of ids) {
                  // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì¢€ë¹„ ìƒì„¸ ì •ë³´ë¥¼ ì°¾ì•„, `zombie` ê°ì²´ ë°˜í™˜
                  getZombieDetails(id)
                  .then(function(zombie) {
                    // HTMLì— ë³€ìˆ˜ë¥¼ ë„£ê¸° ìœ„í•´ ES6ì˜ "template literal" ì‚¬ìš©
                    // ê°ê°ì„ #zombies divì— ë¶™ì—¬ë„£ê¸°
                    $("#zombies").append(`<div class="zombie">
                      <ul>
                        <li>Name: ${zombie.name}</li>
                        <li>DNA: ${zombie.dna}</li>
                        <li>Level: ${zombie.level}</li>
                        <li>Wins: ${zombie.winCount}</li>
                        <li>Losses: ${zombie.lossCount}</li>
                        <li>Ready Time: ${zombie.readyTime}</li>
                      </ul>
                    </div>`);
                  });
                }
              }
        
              function createRandomZombie(name) {
                // ì‹œê°„ì´ ê½¤ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ, íŠ¸ëœì­ì…˜ì´ ë³´ë‚´ì¡Œë‹¤ëŠ” ê²ƒì„
                // ìœ ì €ê°€ ì•Œ ìˆ˜ ìˆë„ë¡ UIë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨
                $("#txStatus").text("Creating new zombie on the blockchain. This may take a while...");
                // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì— ì „ì†¡í•˜ê¸°:
                return CryptoZombies.methods.createRandomZombie(name)
                .send({ from: userAccount })
                .on("receipt", function(receipt) {
                  $("#txStatus").text("Successfully created " + name + "!");
                  // ë¸”ë¡ì²´ì¸ì— íŠ¸ëœì­ì…˜ì´ ë°˜ì˜ë˜ì—ˆìœ¼ë©°, UIë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•¨
                  getZombiesByOwner(userAccount).then(displayZombies);
                })
                .on("error", function(error) {
                  // ì‚¬ìš©ìë“¤ì—ê²Œ íŠ¸ëœì­ì…˜ì´ ì‹¤íŒ¨í–ˆìŒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì²˜ë¦¬
                  $("#txStatus").text(error);
                });
              }
        
              function feedOnKitty(zombieId, kittyId) {
                $("#txStatus").text("Eating a kitty. This may take a while...");
                return CryptoZombies.methods.feedOnKitty(zombieId, kittyId)
                .send({ from: userAccount })
                .on("receipt", function(receipt) {
                  $("#txStatus").text("Ate a kitty and spawned a new Zombie!");
                  getZombiesByOwner(userAccount).then(displayZombies);
                })
                .on("error", function(error) {
                  $("#txStatus").text(error);
                });
              }
        
              function levelUp(zombieId) {
                $("#txStatus").text("ì¢€ë¹„ë¥¼ ë ˆë²¨ì—…í•˜ëŠ” ì¤‘...");
                return CryptoZombies.methods.levelUp(zombieId)
                .send({ from: userAccount, value: web3js.utils.toWei("0.001") })
                .on("receipt", function(receipt) {
                  $("#txStatus").text("ì••ë„ì ì¸ í˜! ì¢€ë¹„ê°€ ì„±ê³µì ìœ¼ë¡œ ë ˆë²¨ì—…í–ˆìŠµë‹ˆë‹¤.");
                })
                .on("error", function(error) {
                  $("#txStatus").text(error);
                });
              }
        
              function getZombieDetails(id) {
                return cryptoZombies.methods.zombies(id).call()
              }
        
              function zombieToOwner(id) {
                return cryptoZombies.methods.zombieToOwner(id).call()
              }
        
              function getZombiesByOwner(owner) {
                return cryptoZombies.methods.getZombiesByOwner(owner).call()
              }
        
              window.addEventListener('load', function() {
        
                // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
                if (typeof web3 !== 'undefined') {
                  // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
                  web3js = new Web3(web3.currentProvider);
                } else {
                  // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
                  // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
                }
        
                // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
                startApp()
        
              })
            </script>
          </body>
        </html>
        ```
        

### ****ì´ë²¤íŠ¸(Event) êµ¬ë…í•˜ê¸°****

ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì´ë²¤íŠ¸ë¥¼ êµ¬ë…

- ****ìƒˆë¡œìš´ ì¢€ë¹„ ìˆ˜ì‹ í•˜ê¸°****
    - `zombiefactory.sol`ì„ ë‹¤ì‹œ ìƒê°í•´ë³´ë©´, ìƒˆë¡œìš´ ì¢€ë¹„ê°€ ìƒì„±ë  ë•Œë§ˆë‹¤ ë§¤ë²ˆ í˜¸ì¶œë˜ë˜Â `NewZombie`ë¼ëŠ” ì´ë²¤íŠ¸ê°€ ìˆì—ˆë„¤:
    
    ```solidity
    event NewZombie(uint zombieId, string name, uint dna);
    ```
    
    - Web3.jsì—ì„œ ìë„¤ëŠ” ì´ë²¤íŠ¸ë¥¼Â **êµ¬ë…í•˜ì—¬**Â í•´ë‹¹ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œë§ˆë‹¤ Web3 í”„ë¡œë°”ì´ë”ê°€ ìë„¤ì˜ ì½”ë“œ ë‚´ì˜ ì–´ë– í•œ ë¡œì§ì„ ì‹¤í–‰ì‹œí‚¤ë„ë¡ í•  ìˆ˜ ìˆë„¤:
    
    ```jsx
    cryptoZombies.events.NewZombie()
    .on("data", function(event) {
      let zombie = event.returnValues;
      // `event.returnValue` ê°ì²´ì—ì„œ ì´ ì´ë²¤íŠ¸ì˜ ì„¸ ê°€ì§€ ë°˜í™˜ ê°’ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
      console.log("ìƒˆë¡œìš´ ì¢€ë¹„ê°€ íƒœì–´ë‚¬ìŠµë‹ˆë‹¤!", zombie.zombieId, zombie.name, zombie.dna);
    }).on("error", console.error);
    ```
    
    - ì´ê±´ DAppì—ì„œ ì–´ë–¤ ì¢€ë¹„ê°€ ìƒì„±ë˜ë“ ì§€ í•­ìƒ ì•Œë¦¼ì„ ë³´ë‚¼ ê±°ë¼ëŠ” ê±¸ ëª…ì‹¬í•˜ê²Œ - í˜„ì¬ ì‚¬ìš©ìì˜ ì¢€ë¹„ë§Œì´ ì•„ë‹ˆë¼ëŠ” ê²ƒì´ë„¤. í˜„ì¬ ì‚¬ìš©ìê°€ ë§Œë“  ê²ƒì— ëŒ€í•´ì„œë§Œ ì•Œë¦¼ì„ ë³´ë‚´ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í•˜ê² ëŠ”ê°€?
- ****`indexed`Â ì‚¬ìš©í•˜ê¸°**
    - ì´ë²¤íŠ¸ë¥¼ í•„í„°ë§í•˜ê³  í˜„ì¬ ì‚¬ìš©ìì™€ ì—°ê´€ëœ ë³€ê²½ë§Œì„ ìˆ˜ì‹ í•˜ê¸° ìœ„í•´, ìš°ë¦¬ì˜ ERC721ì„ êµ¬í˜„í•  ë•ŒÂ `Transfer`Â ì´ë²¤íŠ¸ì—ì„œ í–ˆë˜ ê²ƒì²˜ëŸ¼ ìš°ë¦¬ì˜ ì†”ë¦¬ë””í‹° ì»¨íŠ¸ë™íŠ¸ì—Â `indexed`Â í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ë„¤.
    
    ```solidity
    event Transfer(address indexed _from, address indexed _to, uint256 _tokenId);
    ```
    
    - ì´ ê²½ìš°,Â `_from`ê³¼Â `_to`ê°€Â `indexed`ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ìš°ë¦¬ í”„ë¡ íŠ¸ì—”ë“œì˜ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆì—ì„œ ì´ë“¤ì„ í•„í„°ë§í•  ìˆ˜ ìˆë„¤:
    
    ```jsx
    // `filter`ë¥¼ ì‚¬ìš©í•´ `_to`ê°€ `userAccount`ì™€ ê°™ì„ ë•Œë§Œ ì½”ë“œë¥¼ ì‹¤í–‰
    cryptoZombies.events.Transfer({ filter: { _to: userAccount } })
    .on("data", function(event) {
      let data = event.returnValues;
      // í˜„ì¬ ì‚¬ìš©ìê°€ ë°©ê¸ˆ ì¢€ë¹„ë¥¼ ë°›ì•˜ë„¤!
      // í•´ë‹¹ ì¢€ë¹„ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ UIë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆë„ë¡ ì—¬ê¸°ì— ì¶”ê°€
    }).on("error", console.error);
    ```
    
    - ìë„¤ë„ ë³¼ ìˆ˜ ìˆë“¯ì´,Â `event`ì™€Â `indexed`Â ì˜ì—­ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ìë„¤ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ë³€í™”ë¥¼ ê°ì§€í•˜ê³  í”„ë¡ íŠ¸ì—”ë“œì— ë°˜ì˜í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ìœ ìš©í•œ ë°©ë²•ì´ë„¤.
- ****ì§€ë‚œ ì´ë²¤íŠ¸ì— ëŒ€í•´ ì§ˆì˜í•˜ê¸°****
    - ìš°ë¦°Â `getPastEvents`ë¥¼ ì´ìš©í•´ ì§€ë‚œ ì´ë²¤íŠ¸ë“¤ì— ëŒ€í•´ ì§ˆì˜ë¥¼ í•˜ê³ ,Â `fromBlock`ê³¼Â `toBlock`í•„í„°ë“¤ì„ ì´ìš©í•´ ì´ë²¤íŠ¸ ë¡œê·¸ì— ëŒ€í•œ ì‹œê°„ ë²”ìœ„ë¥¼ ì†”ë¦¬ë””í‹°ì— ì „ë‹¬í•  ìˆ˜ ìˆë„¤(ì—¬ê¸°ì„œ "block"ì€ ì´ë”ë¦¬ì›€ ë¸”ë¡ ë²ˆí˜¸ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤ë„¤).
    
    ```jsx
    cryptoZombies.getPastEvents("NewZombie", { fromBlock: 0, toBlock: "latest" })
    .then(function(events) {
      // `events`ëŠ” ìš°ë¦¬ê°€ ìœ„ì—ì„œ í–ˆë˜ ê²ƒì²˜ëŸ¼ ë°˜ë³µ ì ‘ê·¼í•  `event` ê°ì²´ë“¤ì˜ ë°°ì—´ì´ë„¤.
      // ì´ ì½”ë“œëŠ” ìƒì„±ëœ ëª¨ë“  ì¢€ë¹„ì˜ ëª©ë¡ì„ ìš°ë¦¬ê°€ ë°›ì„ ìˆ˜ ìˆê²Œ í•  ê²ƒì´ë„¤.
    });
    ```
    
    ìœ„ ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ì‹œì‘ ì‹œê°„ë¶€í„°ì˜ ì´ë²¤íŠ¸ ë¡œê·¸ë“¤ì— ëŒ€í•´ ì§ˆì˜ë¥¼ í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì´ë¥¼ í†µí•´ í¥ë¯¸ë¡œìš´ ì‚¬ìš© ì˜ˆì‹œë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„¤:Â **ì´ë²¤íŠ¸ë¥¼ ì €ë ´í•œ í˜•íƒœì˜ storageë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë„¤**.
    
    ë‹¤ì‹œ ìƒê°í•´ë³´ë©´, ë°ì´í„°ë¥¼ ë¸”ë¡ì²´ì¸ì— ê¸°ë¡í•˜ëŠ” ê²ƒì€ ì†”ë¦¬ë””í‹°ì—ì„œ ê°€ì¥ ë¹„ì‹¼ ë¹„ìš©ì„ ì§€ë¶ˆí•˜ëŠ” ì‘ì—… ì¤‘ í•˜ë‚˜ì˜€ë„¤. í•˜ì§€ë§Œ ì´ë²¤íŠ¸ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì€ ê°€ìŠ¤ ì¸¡ë©´ì—ì„œ í›¨ì”¬ ë” ì €ë ´í•˜ë„¤.
    
    ì—¬ê¸°ì„œ ë‹¨ì ì´ ë˜ëŠ” ë¶€ë¶„ì€ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ ìì²´ ì•ˆì—ì„œëŠ” ì´ë²¤íŠ¸ë¥¼ ì½ì„ ìˆ˜ ì—†ë‹¤ëŠ” ê²ƒì´ë„¤. í•˜ì§€ë§Œ íˆìŠ¤í† ë¦¬ë¡œ ë¸”ë¡ì²´ì¸ì— ê¸°ë¡í•˜ì—¬ ì•±ì˜ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì½ê¸°ë¥¼ ì›í•˜ëŠ” ë°ì´í„°ê°€ ìˆë‹¤ë©´, ì´ëŠ” ìƒˆê²¨ë†“ì•„ì•¼ í•  ì¤‘ìš”í•œ ì‚¬ìš© ì˜ˆì‹œì´ë„¤.
    
    ì˜ˆë¥¼ ë“¤ì–´, ìš°ë¦° ì´ê²ƒì„ ì¢€ë¹„ ì „íˆ¬ì˜ íˆìŠ¤í† ë¦¬ ê¸°ë¡ìš©ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆë„¤ - ì¢€ë¹„ê°€ ë‹¤ë¥¸ ì¢€ë¹„ë¥¼ ê³µê²©í•  ë•Œë§ˆë‹¤, ê·¸ë¦¬ê³  ëˆ„êµ°ê°€ ì´ê¸¸ ë•Œë§ˆë‹¤ ìš°ë¦° ì´ë²¤íŠ¸ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë„¤. ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ëŠ” ì¶”í›„ ê²°ê³¼ë¥¼ ê³„ì‚°í•  ë•Œ ì´ ë°ì´í„°ê°€ í•„ìš”í•˜ì§€ ì•Šì§€ë§Œ, ì‚¬ìš©ìë“¤ì´ ì•±ì˜ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì°¾ì•„ë³¼ ìˆ˜ ìˆëŠ” ìœ ìš©í•œ ë°ì´í„°ì´ì§€.
    
- ì˜ˆì œ ) `Transfer`Â ì´ë²¤íŠ¸ë¥¼ ê°ì§€í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ì¶”ê°€í•´ë³´ë„ë¡ í•˜ì§€. ê·¸ë¦¬ê³  í˜„ì¬ ì‚¬ìš©ìê°€ ìƒˆë¡œìš´ ì¢€ë¹„ë¥¼ ë°›ì•˜ì„ ë–„ ìš°ë¦¬ ì•±ì˜ UIë¥¼ ì—…ë°ì´íŠ¸í•˜ë„ë¡ í•˜ê² ë„¤. ìš°ë¦° ì´ ì½”ë“œë¥¼Â `startApp`ì½”ë“œì˜ ëë¶€ë¶„ì— ì¶”ê°€í•´ì•¼ í•˜ë„¤. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•˜ê¸° ì „ì—Â `cryptoZombies`Â ì»¨íŠ¸ë™íŠ¸ê°€ í™•ì‹¤íˆ ì´ˆê¸°í™”ë  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ì„œì´ì§€.
    1. `startApp()`ì˜ ëë¶€ë¶„ì—Â `crpytoZombies.events.Transfer`ë¥¼ ìˆ˜ì‹ í•˜ëŠ” ìœ„ì˜ ì½”ë“œ ë¸”ë¡ì„ ë³µì‚¬/ë¶™ì—¬ë„£ê¸° í•˜ê²Œ.
    2. UIë¥¼ ì—…ë°ì´íŠ¸ í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì—Â `getZombiesByOwner(userAccount).then(displayZombies);`ë¥¼ ì‚¬ìš©í•˜ê²Œ. 
    - ì˜ˆì œ ì½”ë“œ
        
        ```jsx
        <!DOCTYPE html>
        <html lang="en">
          <head>
            <meta charset="UTF-8">
            <title>CryptoZombies front-end</title>
            <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
            <script language="javascript" type="text/javascript" src="web3.min.js"></script>
            <script language="javascript" type="text/javascript" src="cryptozombies_abi.js"></script>
          </head>
          <body>
            <div id="txStatus"></div>
            <div id="zombies"></div>
        
            <script>
              var cryptoZombies;
              var userAccount;
        
              function startApp() {
                var cryptoZombiesAddress = "YOUR_CONTRACT_ADDRESS";
                cryptoZombies = new web3js.eth.Contract(cryptoZombiesABI, cryptoZombiesAddress);
        
                var accountInterval = setInterval(function() {
                  // ê³„ì •ì´ ë°”ë€Œì—ˆëŠ”ì§€ í™•ì¸
                  if (web3.eth.accounts[0] !== userAccount) {
                    userAccount = web3.eth.accounts[0];
                    // ìƒˆ ê³„ì •ì— ëŒ€í•œ UIë¡œ ì—…ë°ì´íŠ¸í•˜ê¸° ìœ„í•œ í•¨ìˆ˜ í˜¸ì¶œ
                    getZombiesByOwner(userAccount)
                    .then(displayZombies);
                  }
                }, 100);
        
                // ì—¬ê¸°ì„œ ì‹œì‘í•˜ê²Œ.
                cryptoZombies.events.Transfer({ filter: { _to: userAccount } })
                .on("data", function(event) {
                  let data = event.returnValues;
                  getZombiesByOwner(userAccount).then(displayZombies);
                }).on("error", console.error);
              }
        
              function displayZombies(ids) {
                $("#zombies").empty();
                for (id of ids) {
                  // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì—ì„œ ì¢€ë¹„ ìƒì„¸ ì •ë³´ë¥¼ ì°¾ì•„, `zombie` ê°ì²´ ë°˜í™˜
                  getZombieDetails(id)
                  .then(function(zombie) {
                    // HTMLì— ë³€ìˆ˜ë¥¼ ë„£ê¸° ìœ„í•´ ES6ì˜ "template literal" ì‚¬ìš©
                    // ê°ê°ì„ #zombies divì— ë¶™ì—¬ë„£ê¸°
                    $("#zombies").append(`<div class="zombie">
                      <ul>
                        <li>Name: ${zombie.name}</li>
                        <li>DNA: ${zombie.dna}</li>
                        <li>Level: ${zombie.level}</li>
                        <li>Wins: ${zombie.winCount}</li>
                        <li>Losses: ${zombie.lossCount}</li>
                        <li>Ready Time: ${zombie.readyTime}</li>
                      </ul>
                    </div>`);
                  });
                }
              }
        
              function createRandomZombie(name) {
                // ì‹œê°„ì´ ê½¤ ê±¸ë¦´ ìˆ˜ ìˆìœ¼ë‹ˆ, íŠ¸ëœì­ì…˜ì´ ë³´ë‚´ì¡Œë‹¤ëŠ” ê²ƒì„
                // ìœ ì €ê°€ ì•Œ ìˆ˜ ìˆë„ë¡ UIë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•¨
                $("#txStatus").text("Creating new zombie on the blockchain. This may take a while...");
                // ìš°ë¦¬ ì»¨íŠ¸ë™íŠ¸ì— ì „ì†¡í•˜ê¸°:
                return CryptoZombies.methods.createRandomZombie(name)
                .send({ from: userAccount })
                .on("receipt", function(receipt) {
                  $("#txStatus").text("Successfully created " + name + "!");
                  // ë¸”ë¡ì²´ì¸ì— íŠ¸ëœì­ì…˜ì´ ë°˜ì˜ë˜ì—ˆìœ¼ë©°, UIë¥¼ ë‹¤ì‹œ ê·¸ë ¤ì•¼ í•¨
                  getZombiesByOwner(userAccount).then(displayZombies);
                })
                .on("error", function(error) {
                  // ì‚¬ìš©ìë“¤ì—ê²Œ íŠ¸ëœì­ì…˜ì´ ì‹¤íŒ¨í–ˆìŒì„ ì•Œë ¤ì£¼ê¸° ìœ„í•œ ì²˜ë¦¬
                  $("#txStatus").text(error);
                });
              }
        
              function feedOnKitty(zombieId, kittyId) {
                $("#txStatus").text("Eating a kitty. This may take a while...");
                return CryptoZombies.methods.feedOnKitty(zombieId, kittyId)
                .send({ from: userAccount })
                .on("receipt", function(receipt) {
                  $("#txStatus").text("Ate a kitty and spawned a new Zombie!");
                  getZombiesByOwner(userAccount).then(displayZombies);
                })
                .on("error", function(error) {
                  $("#txStatus").text(error);
                });
              }
        
              function levelUp(zombieId) {
                $("#txStatus").text("ì¢€ë¹„ë¥¼ ë ˆë²¨ì—…í•˜ëŠ” ì¤‘...");
                return CryptoZombies.methods.levelUp(zombieId)
                .send({ from: userAccount, value: web3.utils.toWei("0.001") })
                .on("receipt", function(receipt) {
                  $("#txStatus").text("ì••ë„ì ì¸ í˜! ì¢€ë¹„ê°€ ì„±ê³µì ìœ¼ë¡œ ë ˆë²¨ì—…í–ˆìŠµë‹ˆë‹¤.");
                })
                .on("error", function(error) {
                  $("#txStatus").text(error);
                });
              }
        
              function getZombieDetails(id) {
                return cryptoZombies.methods.zombies(id).call()
              }
        
              function zombieToOwner(id) {
                return cryptoZombies.methods.zombieToOwner(id).call()
              }
        
              function getZombiesByOwner(owner) {
                return cryptoZombies.methods.getZombiesByOwner(owner).call()
              }
        
              window.addEventListener('load', function() {
        
                // Web3ê°€ ë¸Œë¼ìš°ì €ì— ì£¼ì…ë˜ì—ˆëŠ”ì§€ í™•ì¸(Mist/MetaMask)
                if (typeof web3 !== 'undefined') {
                  // Mist/MetaMaskì˜ í”„ë¡œë°”ì´ë” ì‚¬ìš©
                  web3js = new Web3(web3.currentProvider);
                } else {
                  // ì‚¬ìš©ìê°€ Metamaskë¥¼ ì„¤ì¹˜í•˜ì§€ ì•Šì€ ê²½ìš°ì— ëŒ€í•´ ì²˜ë¦¬
                  // ì‚¬ìš©ìë“¤ì—ê²Œ Metamaskë¥¼ ì„¤ì¹˜í•˜ë¼ëŠ” ë“±ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ê²ƒ
                }
        
                // ì´ì œ ìë„¤ ì•±ì„ ì‹œì‘í•˜ê³  web3ì— ììœ ë¡­ê²Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„¤:
                startApp()
        
              })
            </script>
          </body>
        </html>
        ```
        

### ****ë§ˆë¬´ë¦¬í•˜ê¸°****

- ****ë‹¤ìŒ ë‹¨ê³„****

ì´ë²ˆ ë ˆìŠ¨ì€ ì¼ë¶€ëŸ¬ ê¸°ì´ˆì ì¸ ê²ƒì„ ë‹¤ë¤˜ë„¤. ìš°ë¦¬ëŠ” ìë„¤ì—ê²Œ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì™€ ìƒí˜¸ì‘ìš© í•  ë•Œ í•„ìš”í•œ í•µì‹¬ ë¡œì§ì„ ë³´ì—¬ì£¼ê³  ì‹¶ì—ˆë„¤. í•˜ì§€ë§Œ ì½”ë“œì—ì„œ Web3.js ë¶€ë¶„ì€ ê½¤ ë°˜ë³µì ì¸ ê²Œ ë§ê¸° ë•Œë¬¸ì— ì „ì²´ êµ¬í˜„ì„ í•˜ëŠ” ë°ì— ë„ˆë¬´ ë§ì€ ì‹œê°„ì„ ì“°ê³  ì‹¶ì§€ëŠ” ì•Šì•˜ë„¤. ì´ë²ˆ ë ˆìŠ¨ì„ ë” ê¸¸ê²Œ ë§Œë“¤ì–´ ë‹¤ë¥¸ ìƒˆë¡œìš´ ê°œë…ì„ ì†Œê°œí•˜ì§€ë„ ì•Šì„ ê²ƒì´ë„¤.

ê·¸ëŸ¬ë‹ˆ ì´ëŸ° êµ¬í˜„ì€ ê¸°ì´ˆì ì¸ ê²ƒìœ¼ë¡œ ë†”ë‘ê³ , ìš°ë¦¬ ì¢€ë¹„ ê²Œì„ í”„ë¡ íŠ¸ì—”ë“œì˜ ì™„ì „í•œ êµ¬í˜„ì„ ìœ„í•´ ìƒê°í•´ë³¼ ê²ƒë“¤ì˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ì•Œë ¤ì£¼ê² ë„¤. ìë„¤ê°€ ì´ê±¸ ìë„¤ë§Œì˜ ê²ƒìœ¼ë¡œ ë§Œë“¤ì–´ë³´ê³  ì‹¶ë‹¤ë©´:

1. `attack`,Â `changeName`,Â `changeDna`, ê·¸ë¦¬ê³  ERC721 í•¨ìˆ˜ì¸Â `transfer`,Â `ownerOf`,Â `balanceOf`Â í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê²Œ. ì´ëŸ° í•¨ìˆ˜ë“¤ì˜ êµ¬í˜„ì€ ìš°ë¦¬ê°€ ë‹¤ë£¬ ëª¨ë“  ë‹¤ë¥¸Â `send`Â íŠ¸ëœì­ì…˜ê³¼ ë™ì¼í•  ê²ƒì´ë„¤.
2. ìë„¤ê°€Â `setKittyContractAddress`,Â `setLevelUpFee`, ê·¸ë¦¬ê³ Â `withdraw`ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” "ê´€ë¦¬ í˜ì´ì§€"ë¥¼ êµ¬í˜„í•˜ê²Œ. ë‹¤ì‹œ í•œë²ˆ ë§í•˜ì§€ë§Œ, í”„ë¡ íŠ¸ì—”ë“œì— ë” íŠ¹ë³„í•œ ë¡œì§ì€ ì—†ë„¤ - ì´ëŸ¬í•œ êµ¬í˜„ë“¤ì€ ìš°ë¦¬ê°€ ì´ë¯¸ ë‹¤ë£¬ í•¨ìˆ˜ë“¤ê³¼ ë™ì¼í•  ê²ƒì´ë„¤. ìë„¤ëŠ” ê·¸ì € í•´ë‹¹ ì»¨íŠ¸ë™íŠ¸ë¥¼ ë°°í¬í–ˆë˜ ì´ë”ë¦¬ì›€ ì£¼ì†Œì—ì„œ ì´ í•¨ìˆ˜ë“¤ì„ í˜¸ì¶œí–ˆëŠ”ì§€ í™•ì¸í•˜ë©´ ë˜ë„¤. ì´ í•¨ìˆ˜ë“¤ì€Â `onlyOwner`Â ì œì–´ìë¥¼ ê°€ì§€ê³  ìˆìœ¼ë‹ˆ ë§ì´ì•¼.
3. ì´ ì•±ì—ì„œ êµ¬í˜„í•˜ê³  ì‹¶ì€ ë‹¤ë¥¸ ëª‡ ê°€ì§€ í™”ë©´ì´ ìˆì„ ìˆ˜ ìˆë„¤:
    
    a. ê°œë³„ ì¢€ë¹„ í˜ì´ì§€: íŠ¹ì • ì¢€ë¹„ì— ëŒ€í•œ ì˜êµ¬ì ì¸ ë§í¬ë¥¼ í†µí•´ ê·¸ ì¢€ë¹„ì˜ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê³³ì´ì§€. ì´ í˜ì´ì§€ì—ì„œëŠ” ì¢€ë¹„ì˜ ì™¸ê´€ê³¼ ì´ë¦„, ì£¼ì¸(ì‚¬ìš©ì í”„ë¡œí•„ í˜ì´ì§€ì— ëŒ€í•œ ë§í¬ì™€ í•¨ê»˜), ìŠ¹ë¦¬/íŒ¨ë°° íšŸìˆ˜, ì „íˆ¬ ê¸°ë¡, ê¸°íƒ€ ë“±ë“±ì„ ë³´ì—¬ì¤„ ê²ƒì´ë„¤.
    
    b. ì‚¬ìš©ì í˜ì´ì§€: ì˜êµ¬ì ì¸ ë§í¬ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ì¢€ë¹„ êµ°ëŒ€ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” ê³³ì´ì§€. ê°œë³„ ì¢€ë¹„ë¥¼ í´ë¦­í•˜ì—¬ í•´ë‹¹ í˜ì´ì§€ë¥¼ ë³¼ ìˆ˜ ìˆì„ ê²ƒì´ê³ , ìë„¤ê°€ ë©”íƒ€ë§ˆìŠ¤í¬ì— ë¡œê·¸ì¸ë˜ì–´ ìˆê³ , êµ°ëŒ€ë¥¼ ê°€ì§€ê³  ìˆë‹¤ë©´ ì¢€ë¹„ë¥¼ í´ë¦­í•´ ê³µê²©í•  ìˆ˜ë„ ìˆì„ ê²ƒì´ë„¤.
    
    c. í™ˆí˜ì´ì§€: í˜„ì¬ ì‚¬ìš©ìì˜ ì¢€ë¹„ êµ°ëŒ€ë¥¼ ë³¼ ìˆ˜ ìˆëŠ”, ì‚¬ìš©ì í˜ì´ì§€ì˜ í•œ ì¢…ë¥˜ì´ì§€(ìš°ë¦¬ê°€ index.htmlì—ì„œ êµ¬í˜„í•™ ì‹œì‘í—€ë˜ ê³³ì´ë„¤).
    
4. UI ìƒì—ì„œ ì‚¬ìš©ìê°€ í¬ë¦½í† í‚¤í‹°ë¥¼ ë¨¹ì´ë¡œ ì¤„ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆì–´ì•¼ í•˜ê² ì§€. í™ˆí˜ì´ì§€ì—ì„œ ê° ì¢€ë¹„ ì˜†ì— "ë¨¹ì´ ì£¼ê¸°" ê°™ì€ ë²„íŠ¼ì„ ë§Œë“¤ê³ , ì‚¬ìš©ìê°€ ê³ ì–‘ì´ì˜ IDë¥¼ ì…ë ¥í•˜ê²Œ í•˜ëŠ” í…ìŠ¤íŠ¸ ë°•ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê² ì§€(ë˜ëŠ” ê·¸ ê³ ì–‘ì´ì˜ URL, ì˜ˆë¥¼ ë“¤ë©´:Â [https://www.cryptokitties.co/kitty/578397](https://www.cryptokitties.co/kitty/578397)). ì´ ë²„íŠ¼ì€Â `feedOnKitty`Â í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ê²ƒì´ë„¤.
5. UI ìƒì—ì„œ í•œ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ ì¢€ë¹„ë¥¼ ê³µê²©í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆì–´ì•¼ í•  ê²ƒì´ë„¤.
    
    ì´ë¥¼ êµ¬í˜„í•˜ëŠ” í•˜ë‚˜ì˜ ë°©ë²•ì€ í•œ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ ì‚¬ìš©ìì˜ í˜ì´ì§€ë¡œ ë“¤ì–´ê°€ë©´, "ì´ ì¢€ë¹„ ê³µê²©í•˜ê¸°" ë²„íŠ¼ì„ ë³´ì—¬ì£¼ëŠ” ê²ƒì´ë„¤. ì‚¬ìš©ìê°€ ê·¸ ë²„íŠ¼ì„ í´ë¦­í•˜ë©´, í˜„ì¬ ì‚¬ìš©ìì˜ ì¢€ë¹„ êµ°ëŒ€ë¥¼ í¬í•¨í•˜ëŠ” ëª¨ë‹¬ ì°½ì„ ë„ìš°ê³  "ì–´ë–¤ ì¢€ë¹„ë¡œ ê³µê²©í•˜ì‹œê² ìŠµë‹ˆê¹Œ?" ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì£¼ë©´ ë˜ë„¤.
    
    ë˜ ì‚¬ìš©ìì˜ í™ˆí˜ì´ì§€ì—ì„œ ê° ì¢€ë¹„ ì˜†ì— "ì¢€ë¹„ ê³µê²©í•˜ê¸°" ë²„íŠ¼ì„ ë‘˜ ìˆ˜ë„ ìˆë„¤. ì‚¬ìš©ìê°€ ê·¸ê±¸ í´ë¦­í•˜ë©´, ì‚¬ìš©ìê°€ ì¢€ë¹„ì˜ IDë¥¼ ì…ë ¥í•˜ì—¬ ì°¾ì„ ìˆ˜ ìˆëŠ” ì°¾ê¸° ì˜ì—­ì„ ê°€ì§€ëŠ” ëª¨ë‹¬ ì°½ì„ ë„ìš¸ ìˆ˜ ìˆê² ì§€. ë˜ëŠ” "ì•„ë¬´ ì¢€ë¹„ë‚˜ ê³µê²©í•˜ê¸°" ê°™ì€ ì˜µì…˜ì„ ì¤˜ì„œ ì„ì˜ë¡œ ì°¾ì„ ìˆ˜ë„ ìˆì„ ê²ƒì´ë„¤.
    
    ê·¸ë¦¬ê³  ì¿¨ë‹¤ìš´ ê¸°ê°„ì´ ì•„ì§ ë‹¤ ì§€ë‚˜ì§€ ì•Šì€ ì‚¬ìš©ìì˜ ì¢€ë¹„ëŠ” íšŒìƒ‰ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ë„ ìˆê² ì§€. UI ìƒì—ì„œ ì‚¬ìš©ìì—ê²Œ í•´ë‹¹ ì¢€ë¹„ë¡œëŠ” ì•„ì§ ê³µê²©í•  ìˆ˜ ì—†ê³  ì–¼ë§ˆë‚˜ ë” ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ”ì§€ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„ë¡ ë§ì´ì•¼.
    
6. ì‚¬ìš©ìì˜ í™ˆí˜ì´ì§€ì—ëŠ” ê° ì¢€ë¹„ì˜ ì´ë¦„ ë˜ëŠ” DNAë¥¼ ë°”ê¾¸ê³ , ì¼ì • ë¹„ìš©ì„ ë‚´ê³  ë ˆë²¨ì—…ì„ í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì´ ìˆì„ ìˆ˜ ìˆë„¤. ì‚¬ìš©ìì˜ ë ˆë²¨ì´ ì¶©ë¶„í•˜ì§€ ì•Šìœ¼ë©´ ì–´ë–¤ ì˜µì…˜ë“¤ì„ íšŒìƒ‰ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆê³˜ì§€.
7. ìƒˆë¡œìš´ ì‚¬ìš©ìë“¤ì„ ìœ„í•´,Â `createRandomZombie()`ë¥¼ í˜¸ì¶œí•´ êµ°ëŒ€ì˜ ì²« ë²ˆì§¸ ì¢€ë¹„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì…ë ¥ ì°½ê³¼ í•¨ê»˜ í™˜ì˜ ë©”ì„¸ì§€ë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ìˆë„¤.
8. ë§ˆì§€ë§‰ ì±•í„°ì—ì„œ ë…¼ì˜í•œ ê²ƒì²˜ëŸ¼, ìš°ë¦¬ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì—Â `indexed`Â í”„ë¡œí¼í‹°ë¡œ ì‚¬ìš©ìì˜Â `address`ë¥¼ ê°€ì§€ëŠ”Â `Attack`Â ì´ë²¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë„¤. ì´ë¥¼ í†µí•´ ì‹¤ì‹œê°„ ì•Œë¦¼ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒì´ë„¤ - ì‚¬ìš©ìì—ê²Œ ê·¸ì˜ ì¢€ë¹„ê°€ ê³µê²©ë‹¹í•˜ë©´ ì•Œë¦¼ ì°½ì„ ë„ì›Œ ì•Œë ¤ì£¼ì–´, ê·¸ë¥¼ ê³µê²©í•œ ì‚¬ìš©ì/ì¢€ë¹„ë¥¼ ë³´ì—¬ì£¼ê³  ë³µìˆ˜í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” ê²ƒì´ì§€.
9. ë˜í•œ ì¼ì¢…ì˜ í”„ë¡ íŠ¸ì—”ë“œ ìºì‹œ ê³„ì¸µì„ êµ¬í˜„í•˜ì—¬ ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ ìœ„í•´ Infuraì— ê³„ì† ì ‘ê·¼í•˜ì§€ëŠ” ì•Šë„ë¡ í•˜ê³  ì‹¶ì„ ìˆ˜ ìˆë„¤(ìš°ë¦¬ì˜ í˜„ì¬Â `displayZombies`Â êµ¬í˜„ì€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒˆë¡œê³ ì¹¨í•  ë•Œë§ˆë‹¤ ê° ì¢€ë¹„ì— ëŒ€í•´Â `getZombieDetails`ë¥¼ í˜¸ì¶œí•˜ì§€ - í•˜ì§€ë§Œ í˜„ì‹¤ì ìœ¼ë¡œ ìš°ë¦¬ì˜ êµ°ëŒ€ì— ì¶”ê°€ëœ ìƒˆ ì¢€ë¹„ì— ëŒ€í•´ì„œë§Œ ì´ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ë˜ë„¤).
10. ì‹¤ì‹œê°„ ì±„íŒ…ë°©ì„ ë§Œë“¤ì–´ ìë„¤ê°€ ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì˜ êµ°ëŒ€ë¥¼ ë¶€ìˆ  ë•Œë§ˆë‹¤ ê·¸ ì‚¬ìš©ìë¥¼ ë„ë°œí•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒ? ì œë°œ ë§Œë“¤ì–´ ì£¼ê²Œ...

ì´ê±´ ì‹œì‘ì¼ ë¿ì´ë„¤ - ìš°ë¦¬ëŠ” ë” ë§ì€ ê¸°ëŠ¥ë“¤ì„ ìƒê°í•´ë‚¼ ìˆ˜ ìˆì„ ê²ƒì´ì•¼ - ê·¸ë¦¬ê³  ì´ë¯¸ ë§ì€ ëª©ë¡ì„ ë§Œë“¤ì—ˆì§€.

ì´ëŸ° ì „ì²´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë§Œë“œëŠ” ë°ì—ëŠ” ë§ì€ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œë¥¼ ì¨ì•¼ í•  ê²ƒì´ê¸°ì—(HTML, CSS, ìë°”ìŠ¤í¬ë¦½íŠ¸, ê·¸ë¦¬ê³  Reactë‚˜ Vue.js ê°™ì€ í”„ë ˆì„ì›Œí¬), ì´ëŸ° ì „ì²´ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë§Œë“œëŠ” ê²ƒì€ ì´ê²ƒë§Œìœ¼ë¡œ 10ê°œ ë ˆìŠ¨ìœ¼ë¡œ ì „ì²´ ì½”ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼ í•  ê²ƒì´ì•¼. ê·¸ëŸ¬ë‹ˆ ì´ ì—„ì²­ë‚œ êµ¬í˜„ì€ ìë„¤ì—ê²Œ ë§¡ê¸°ê² ë„¤.

> ì°¸ê³ : ìš°ë¦¬ ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ëŠ” ë¶„ì‚°í™”ë˜ì–´ ìˆì§€ë§Œ, ìš°ë¦¬ DAppê³¼ ìƒí˜¸ì‘ìš© í•  ìˆ˜ ìˆëŠ” ì´ í”„ë¡ íŠ¸ì—”ë“œëŠ” ì–´ë”˜ê°€ì˜ ì›¹ ì„œë²„ì— ì™„ì „íˆ ì¤‘ì•™í™”ë˜ì–´ ìˆì„ ê²ƒì´ë„¤.í•˜ì§€ë§Œ, ìš°ë¦¬ê°€Â Loom Networkì—ì„œ ë§Œë“¤ê³  ìˆëŠ” SDKë¥¼ ì“°ë©´, ì¤‘ì•™í™”ëœ ì›¹ ì„œë²„ ëŒ€ì‹  ê³§ ìì‹ ë§Œì˜ DAppChainì—ì„œ í”„ë¡ íŠ¸ì—”ë“œë¥¼ ì œê³µí•  ìˆ˜ ìˆì„ ê²ƒì´ë„¤. ì´ë”ë¦¬ì›€ê³¼ Loom DAppChain ê°„ì˜ ì €ëŸ° ë°©ì‹ìœ¼ë¡œ, ì „ì²´ ì•±ì´ 100% ë¸”ë¡ì²´ì¸ ìƒì—ì„œ ëŒì•„ê°ˆ ê²ƒì´ë„¤.
> 

## **ê²°ë¡ **

ì´ê²ƒìœ¼ë¡œ ë ˆìŠ¨ 6ì´ ëë‚¬ë„¤. ì´ì œ ìë„¤ëŠ” ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì‘ì„±í•˜ê³  ì‚¬ìš©ìê°€ ì´ì™€ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œë¥¼ ë§Œë“œëŠ” ëª¨ë“  ê¸°ìˆ ì„ ë°°ì› ë„¤!

ë‹¤ìŒ ë ˆìŠ¨ì—ì„œëŠ”, ì´ í¼ì¦ì—ì„œ ë§ˆì§€ë§‰ ìƒì–´ë²„ë¦° ì¡°ê°ì„ ë‹¤ë£° ê²ƒì´ë„¤ - ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ë¥¼ ì´ë”ë¦¬ì›€ì— ë°°í¬í•˜ëŠ” ê²ƒì´ì§€.

"ë‹¤ìŒ ì±•í„°"ë¥¼ í´ë¦­í•˜ì—¬ ë³´ìƒì„ ë°›ë„ë¡ í•˜ê²Œ!